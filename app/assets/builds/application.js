(()=>{var xn=Object.create;var ki=Object.defineProperty;var Mn=Object.getOwnPropertyDescriptor;var Fn=Object.getOwnPropertyNames;var Dn=Object.getPrototypeOf,kn=Object.prototype.hasOwnProperty;var je=(i,e)=>()=>(i&&(e=i(i=0)),e);var Fe=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),Nn=(i,e)=>{for(var t in e)ki(i,t,{get:e[t],enumerable:!0})},qn=(i,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Fn(e))!kn.call(i,o)&&o!==t&&ki(i,o,{get:()=>e[o],enumerable:!(r=Mn(e,o))||r.enumerable});return i};var Ni=(i,e,t)=>(t=i!=null?xn(Dn(i)):{},qn(e||!i||!i.__esModule?ki(t,"default",{value:i,enumerable:!0}):t,i));var nt,Si=je(()=>{nt={logger:self.console,WebSocket:self.WebSocket}});var Z,_t=je(()=>{Si();Z={log(...i){this.enabled&&(i.push(Date.now()),nt.logger.log("[ActionCable]",...i))}}});var Bt,Ai,$t,_i,cs=je(()=>{_t();Bt=()=>new Date().getTime(),Ai=i=>(Bt()-i)/1e3,$t=class{constructor(e){this.visibilityDidChange=this.visibilityDidChange.bind(this),this.connection=e,this.reconnectAttempts=0}start(){this.isRunning()||(this.startedAt=Bt(),delete this.stoppedAt,this.startPolling(),addEventListener("visibilitychange",this.visibilityDidChange),Z.log(`ConnectionMonitor started. stale threshold = ${this.constructor.staleThreshold} s`))}stop(){this.isRunning()&&(this.stoppedAt=Bt(),this.stopPolling(),removeEventListener("visibilitychange",this.visibilityDidChange),Z.log("ConnectionMonitor stopped"))}isRunning(){return this.startedAt&&!this.stoppedAt}recordPing(){this.pingedAt=Bt()}recordConnect(){this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,Z.log("ConnectionMonitor recorded connect")}recordDisconnect(){this.disconnectedAt=Bt(),Z.log("ConnectionMonitor recorded disconnect")}startPolling(){this.stopPolling(),this.poll()}stopPolling(){clearTimeout(this.pollTimeout)}poll(){this.pollTimeout=setTimeout(()=>{this.reconnectIfStale(),this.poll()},this.getPollInterval())}getPollInterval(){let{staleThreshold:e,reconnectionBackoffRate:t}=this.constructor,r=Math.pow(1+t,Math.min(this.reconnectAttempts,10)),u=(this.reconnectAttempts===0?1:t)*Math.random();return e*1e3*r*(1+u)}reconnectIfStale(){this.connectionIsStale()&&(Z.log(`ConnectionMonitor detected stale connection. reconnectAttempts = ${this.reconnectAttempts}, time stale = ${Ai(this.refreshedAt)} s, stale threshold = ${this.constructor.staleThreshold} s`),this.reconnectAttempts++,this.disconnectedRecently()?Z.log(`ConnectionMonitor skipping reopening recent disconnect. time disconnected = ${Ai(this.disconnectedAt)} s`):(Z.log("ConnectionMonitor reopening"),this.connection.reopen()))}get refreshedAt(){return this.pingedAt?this.pingedAt:this.startedAt}connectionIsStale(){return Ai(this.refreshedAt)>this.constructor.staleThreshold}disconnectedRecently(){return this.disconnectedAt&&Ai(this.disconnectedAt)<this.constructor.staleThreshold}visibilityDidChange(){document.visibilityState==="visible"&&setTimeout(()=>{(this.connectionIsStale()||!this.connection.isOpen())&&(Z.log(`ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = ${document.visibilityState}`),this.connection.reopen())},200)}};$t.staleThreshold=6;$t.reconnectionBackoffRate=.15;_i=$t});var Vt,us=je(()=>{Vt={message_types:{welcome:"welcome",disconnect:"disconnect",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},disconnect_reasons:{unauthorized:"unauthorized",invalid_request:"invalid_request",server_restart:"server_restart"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]}});var Wt,Ci,Wo,Lr,jt,Ti,ds=je(()=>{Si();cs();us();_t();({message_types:Wt,protocols:Ci}=Vt),Wo=Ci.slice(0,Ci.length-1),Lr=[].indexOf,jt=class{constructor(e){this.open=this.open.bind(this),this.consumer=e,this.subscriptions=this.consumer.subscriptions,this.monitor=new _i(this),this.disconnected=!0}send(e){return this.isOpen()?(this.webSocket.send(JSON.stringify(e)),!0):!1}open(){return this.isActive()?(Z.log(`Attempted to open WebSocket, but existing socket is ${this.getState()}`),!1):(Z.log(`Opening WebSocket, current state is ${this.getState()}, subprotocols: ${Ci}`),this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new nt.WebSocket(this.consumer.url,Ci),this.installEventHandlers(),this.monitor.start(),!0)}close({allowReconnect:e}={allowReconnect:!0}){if(e||this.monitor.stop(),this.isOpen())return this.webSocket.close()}reopen(){if(Z.log(`Reopening WebSocket, current state is ${this.getState()}`),this.isActive())try{return this.close()}catch(e){Z.log("Failed to reopen WebSocket",e)}finally{Z.log(`Reopening WebSocket in ${this.constructor.reopenDelay}ms`),setTimeout(this.open,this.constructor.reopenDelay)}else return this.open()}getProtocol(){if(this.webSocket)return this.webSocket.protocol}isOpen(){return this.isState("open")}isActive(){return this.isState("open","connecting")}isProtocolSupported(){return Lr.call(Wo,this.getProtocol())>=0}isState(...e){return Lr.call(e,this.getState())>=0}getState(){if(this.webSocket){for(let e in nt.WebSocket)if(nt.WebSocket[e]===this.webSocket.readyState)return e.toLowerCase()}return null}installEventHandlers(){for(let e in this.events){let t=this.events[e].bind(this);this.webSocket[`on${e}`]=t}}uninstallEventHandlers(){for(let e in this.events)this.webSocket[`on${e}`]=function(){}}};jt.reopenDelay=500;jt.prototype.events={message(i){if(!this.isProtocolSupported())return;let{identifier:e,message:t,reason:r,reconnect:o,type:u}=JSON.parse(i.data);switch(u){case Wt.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case Wt.disconnect:return Z.log(`Disconnecting. Reason: ${r}`),this.close({allowReconnect:o});case Wt.ping:return this.monitor.recordPing();case Wt.confirmation:return this.subscriptions.confirmSubscription(e),this.subscriptions.notify(e,"connected");case Wt.rejection:return this.subscriptions.reject(e);default:return this.subscriptions.notify(e,"received",t)}},open(){if(Z.log(`WebSocket onopen event, using '${this.getProtocol()}' subprotocol`),this.disconnected=!1,!this.isProtocolSupported())return Z.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close(i){if(Z.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error(){Z.log("WebSocket onerror event")}};Ti=jt});var jo,dt,hs=je(()=>{jo=function(i,e){if(e!=null)for(let t in e){let r=e[t];i[t]=r}return i},dt=class{constructor(e,t={},r){this.consumer=e,this.identifier=JSON.stringify(t),jo(this,r)}perform(e,t={}){return t.action=e,this.send(t)}send(e){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(e)})}unsubscribe(){return this.consumer.subscriptions.remove(this)}}});var fs,Li,ps=je(()=>{_t();fs=class{constructor(e){this.subscriptions=e,this.pendingSubscriptions=[]}guarantee(e){this.pendingSubscriptions.indexOf(e)==-1?(Z.log(`SubscriptionGuarantor guaranteeing ${e.identifier}`),this.pendingSubscriptions.push(e)):Z.log(`SubscriptionGuarantor already guaranteeing ${e.identifier}`),this.startGuaranteeing()}forget(e){Z.log(`SubscriptionGuarantor forgetting ${e.identifier}`),this.pendingSubscriptions=this.pendingSubscriptions.filter(t=>t!==e)}startGuaranteeing(){this.stopGuaranteeing(),this.retrySubscribing()}stopGuaranteeing(){clearTimeout(this.retryTimeout)}retrySubscribing(){this.retryTimeout=setTimeout(()=>{this.subscriptions&&typeof this.subscriptions.subscribe=="function"&&this.pendingSubscriptions.map(e=>{Z.log(`SubscriptionGuarantor resubscribing ${e.identifier}`),this.subscriptions.subscribe(e)})},500)}},Li=fs});var ht,ms=je(()=>{hs();ps();_t();ht=class{constructor(e){this.consumer=e,this.guarantor=new Li(this),this.subscriptions=[]}create(e,t){let r=e,o=typeof r=="object"?r:{channel:r},u=new dt(this.consumer,o,t);return this.add(u)}add(e){return this.subscriptions.push(e),this.consumer.ensureActiveConnection(),this.notify(e,"initialized"),this.subscribe(e),e}remove(e){return this.forget(e),this.findAll(e.identifier).length||this.sendCommand(e,"unsubscribe"),e}reject(e){return this.findAll(e).map(t=>(this.forget(t),this.notify(t,"rejected"),t))}forget(e){return this.guarantor.forget(e),this.subscriptions=this.subscriptions.filter(t=>t!==e),e}findAll(e){return this.subscriptions.filter(t=>t.identifier===e)}reload(){return this.subscriptions.map(e=>this.subscribe(e))}notifyAll(e,...t){return this.subscriptions.map(r=>this.notify(r,e,...t))}notify(e,t,...r){let o;return typeof e=="string"?o=this.findAll(e):o=[e],o.map(u=>typeof u[t]=="function"?u[t](...r):void 0)}subscribe(e){this.sendCommand(e,"subscribe")&&this.guarantor.guarantee(e)}confirmSubscription(e){Z.log(`Subscription confirmed ${e}`),this.findAll(e).map(t=>this.guarantor.forget(t))}sendCommand(e,t){let{identifier:r}=e;return this.consumer.send({command:t,identifier:r})}}});function gs(i){if(typeof i=="function"&&(i=i()),i&&!/^wss?:/i.test(i)){let e=document.createElement("a");return e.href=i,e.href=e.href,e.protocol=e.protocol.replace("http","ws"),e.href}else return i}var Ct,Or=je(()=>{ds();ms();Ct=class{constructor(e){this._url=e,this.subscriptions=new ht(this),this.connection=new Ti(this)}get url(){return gs(this._url)}send(e){return this.connection.send(e)}connect(){return this.connection.open()}disconnect(){return this.connection.close({allowReconnect:!1})}ensureActiveConnection(){if(!this.connection.isActive())return this.connection.open()}}});var Pr={};Nn(Pr,{Connection:()=>Ti,ConnectionMonitor:()=>_i,Consumer:()=>Ct,INTERNAL:()=>Vt,Subscription:()=>dt,SubscriptionGuarantor:()=>Li,Subscriptions:()=>ht,adapters:()=>nt,createConsumer:()=>Uo,createWebSocketURL:()=>gs,getConfig:()=>Rr,logger:()=>Z});function Uo(i=Rr("url")||Vt.default_mount_path){return new Ct(i)}function Rr(i){let e=document.head.querySelector(`meta[name='action-cable-${i}']`);if(e)return e.getAttribute("content")}var Ir=je(()=>{ds();cs();Or();us();hs();ms();ps();Si();_t()});var pn=Fe(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});function Re(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var e=i.ownerDocument;return e&&e.defaultView||window}return i}function pt(i){var e=Re(i).Element;return i instanceof e||i instanceof Element}function Pe(i){var e=Re(i).HTMLElement;return i instanceof e||i instanceof HTMLElement}function Os(i){if(typeof ShadowRoot>"u")return!1;var e=Re(i).ShadowRoot;return i instanceof e||i instanceof ShadowRoot}var ft=Math.max,Pi=Math.min,Tt=Math.round;function Ts(){var i=navigator.userAgentData;return i!=null&&i.brands&&Array.isArray(i.brands)?i.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Jr(){return!/^((?!chrome|android).)*safari/i.test(Ts())}function Lt(i,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=i.getBoundingClientRect(),o=1,u=1;e&&Pe(i)&&(o=i.offsetWidth>0&&Tt(r.width)/i.offsetWidth||1,u=i.offsetHeight>0&&Tt(r.height)/i.offsetHeight||1);var w=pt(i)?Re(i):window,b=w.visualViewport,S=!Jr()&&t,I=(r.left+(S&&b?b.offsetLeft:0))/o,C=(r.top+(S&&b?b.offsetTop:0))/u,B=r.width/o,j=r.height/u;return{width:B,height:j,top:C,right:I+B,bottom:C+j,left:I,x:I,y:C}}function Rs(i){var e=Re(i),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function ha(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function fa(i){return i===Re(i)||!Pe(i)?Rs(i):ha(i)}function ze(i){return i?(i.nodeName||"").toLowerCase():null}function ot(i){return((pt(i)?i.ownerDocument:i.document)||window.document).documentElement}function Ps(i){return Lt(ot(i)).left+Rs(i).scrollLeft}function Xe(i){return Re(i).getComputedStyle(i)}function Is(i){var e=Xe(i),t=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+o+r)}function pa(i){var e=i.getBoundingClientRect(),t=Tt(e.width)/i.offsetWidth||1,r=Tt(e.height)/i.offsetHeight||1;return t!==1||r!==1}function ma(i,e,t){t===void 0&&(t=!1);var r=Pe(e),o=Pe(e)&&pa(e),u=ot(e),w=Lt(i,o,t),b={scrollLeft:0,scrollTop:0},S={x:0,y:0};return(r||!r&&!t)&&((ze(e)!=="body"||Is(u))&&(b=fa(e)),Pe(e)?(S=Lt(e,!0),S.x+=e.clientLeft,S.y+=e.clientTop):u&&(S.x=Ps(u))),{x:w.left+b.scrollLeft-S.x,y:w.top+b.scrollTop-S.y,width:w.width,height:w.height}}function xs(i){var e=Lt(i),t=i.offsetWidth,r=i.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:i.offsetLeft,y:i.offsetTop,width:t,height:r}}function Ii(i){return ze(i)==="html"?i:i.assignedSlot||i.parentNode||(Os(i)?i.host:null)||ot(i)}function Zr(i){return["html","body","#document"].indexOf(ze(i))>=0?i.ownerDocument.body:Pe(i)&&Is(i)?i:Zr(Ii(i))}function Yt(i,e){var t;e===void 0&&(e=[]);var r=Zr(i),o=r===((t=i.ownerDocument)==null?void 0:t.body),u=Re(r),w=o?[u].concat(u.visualViewport||[],Is(r)?r:[]):r,b=e.concat(w);return o?b:b.concat(Yt(Ii(w)))}function ga(i){return["table","td","th"].indexOf(ze(i))>=0}function Wr(i){return!Pe(i)||Xe(i).position==="fixed"?null:i.offsetParent}function va(i){var e=/firefox/i.test(Ts()),t=/Trident/i.test(Ts());if(t&&Pe(i)){var r=Xe(i);if(r.position==="fixed")return null}var o=Ii(i);for(Os(o)&&(o=o.host);Pe(o)&&["html","body"].indexOf(ze(o))<0;){var u=Xe(o);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||e&&u.willChange==="filter"||e&&u.filter&&u.filter!=="none")return o;o=o.parentNode}return null}function Xt(i){for(var e=Re(i),t=Wr(i);t&&ga(t)&&Xe(t).position==="static";)t=Wr(t);return t&&(ze(t)==="html"||ze(t)==="body"&&Xe(t).position==="static")?e:t||va(i)||e}var Ce="top",Ie="bottom",xe="right",Te="left",Ms="auto",Jt=[Ce,Ie,xe,Te],Ot="start",Qt="end",ba="clippingParents",en="viewport",Kt="popper",ya="reference",jr=Jt.reduce(function(i,e){return i.concat([e+"-"+Ot,e+"-"+Qt])},[]),tn=[].concat(Jt,[Ms]).reduce(function(i,e){return i.concat([e,e+"-"+Ot,e+"-"+Qt])},[]),wa="beforeRead",Ea="read",Sa="afterRead",Aa="beforeMain",_a="main",Ca="afterMain",Ta="beforeWrite",La="write",Oa="afterWrite",Ra=[wa,Ea,Sa,Aa,_a,Ca,Ta,La,Oa];function Pa(i){var e=new Map,t=new Set,r=[];i.forEach(function(u){e.set(u.name,u)});function o(u){t.add(u.name);var w=[].concat(u.requires||[],u.requiresIfExists||[]);w.forEach(function(b){if(!t.has(b)){var S=e.get(b);S&&o(S)}}),r.push(u)}return i.forEach(function(u){t.has(u.name)||o(u)}),r}function Ia(i){var e=Pa(i);return Ra.reduce(function(t,r){return t.concat(e.filter(function(o){return o.phase===r}))},[])}function xa(i){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(i())})})),e}}function Ma(i){var e=i.reduce(function(t,r){var o=t[r.name];return t[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}function Fa(i,e){var t=Re(i),r=ot(i),o=t.visualViewport,u=r.clientWidth,w=r.clientHeight,b=0,S=0;if(o){u=o.width,w=o.height;var I=Jr();(I||!I&&e==="fixed")&&(b=o.offsetLeft,S=o.offsetTop)}return{width:u,height:w,x:b+Ps(i),y:S}}function Da(i){var e,t=ot(i),r=Rs(i),o=(e=i.ownerDocument)==null?void 0:e.body,u=ft(t.scrollWidth,t.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),w=ft(t.scrollHeight,t.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),b=-r.scrollLeft+Ps(i),S=-r.scrollTop;return Xe(o||t).direction==="rtl"&&(b+=ft(t.clientWidth,o?o.clientWidth:0)-u),{width:u,height:w,x:b,y:S}}function sn(i,e){var t=e.getRootNode&&e.getRootNode();if(i.contains(e))return!0;if(t&&Os(t)){var r=e;do{if(r&&i.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ls(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function ka(i,e){var t=Lt(i,!1,e==="fixed");return t.top=t.top+i.clientTop,t.left=t.left+i.clientLeft,t.bottom=t.top+i.clientHeight,t.right=t.left+i.clientWidth,t.width=i.clientWidth,t.height=i.clientHeight,t.x=t.left,t.y=t.top,t}function Ur(i,e,t){return e===en?Ls(Fa(i,t)):pt(e)?ka(e,t):Ls(Da(ot(i)))}function Na(i){var e=Yt(Ii(i)),t=["absolute","fixed"].indexOf(Xe(i).position)>=0,r=t&&Pe(i)?Xt(i):i;return pt(r)?e.filter(function(o){return pt(o)&&sn(o,r)&&ze(o)!=="body"}):[]}function qa(i,e,t,r){var o=e==="clippingParents"?Na(i):[].concat(e),u=[].concat(o,[t]),w=u[0],b=u.reduce(function(S,I){var C=Ur(i,I,r);return S.top=ft(C.top,S.top),S.right=Pi(C.right,S.right),S.bottom=Pi(C.bottom,S.bottom),S.left=ft(C.left,S.left),S},Ur(i,w,r));return b.width=b.right-b.left,b.height=b.bottom-b.top,b.x=b.left,b.y=b.top,b}function Ue(i){return i.split("-")[0]}function Rt(i){return i.split("-")[1]}function Fs(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function rn(i){var e=i.reference,t=i.element,r=i.placement,o=r?Ue(r):null,u=r?Rt(r):null,w=e.x+e.width/2-t.width/2,b=e.y+e.height/2-t.height/2,S;switch(o){case Ce:S={x:w,y:e.y-t.height};break;case Ie:S={x:w,y:e.y+e.height};break;case xe:S={x:e.x+e.width,y:b};break;case Te:S={x:e.x-t.width,y:b};break;default:S={x:e.x,y:e.y}}var I=o?Fs(o):null;if(I!=null){var C=I==="y"?"height":"width";switch(u){case Ot:S[I]=S[I]-(e[C]/2-t[C]/2);break;case Qt:S[I]=S[I]+(e[C]/2-t[C]/2);break}}return S}function nn(){return{top:0,right:0,bottom:0,left:0}}function on(i){return Object.assign({},nn(),i)}function an(i,e){return e.reduce(function(t,r){return t[r]=i,t},{})}function Pt(i,e){e===void 0&&(e={});var t=e,r=t.placement,o=r===void 0?i.placement:r,u=t.strategy,w=u===void 0?i.strategy:u,b=t.boundary,S=b===void 0?ba:b,I=t.rootBoundary,C=I===void 0?en:I,B=t.elementContext,j=B===void 0?Kt:B,N=t.altBoundary,W=N===void 0?!1:N,q=t.padding,M=q===void 0?0:q,y=on(typeof M!="number"?M:an(M,Jt)),v=j===Kt?ya:Kt,f=i.rects.popper,l=i.elements[W?v:j],h=qa(pt(l)?l:l.contextElement||ot(i.elements.popper),S,C,w),d=Lt(i.elements.reference),R=rn({reference:d,element:f,strategy:"absolute",placement:o}),E=Ls(Object.assign({},f,R)),T=j===Kt?E:d,L={top:h.top-T.top+y.top,bottom:T.bottom-h.bottom+y.bottom,left:h.left-T.left+y.left,right:T.right-h.right+y.right},P=i.modifiersData.offset;if(j===Kt&&P){var H=P[o];Object.keys(L).forEach(function(k){var U=[xe,Ie].indexOf(k)>=0?1:-1,X=[Ce,Ie].indexOf(k)>=0?"y":"x";L[k]+=H[X]*U})}return L}var zr={placement:"bottom",modifiers:[],strategy:"absolute"};function Kr(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ds(i){i===void 0&&(i={});var e=i,t=e.defaultModifiers,r=t===void 0?[]:t,o=e.defaultOptions,u=o===void 0?zr:o;return function(b,S,I){I===void 0&&(I=u);var C={placement:"bottom",orderedModifiers:[],options:Object.assign({},zr,u),modifiersData:{},elements:{reference:b,popper:S},attributes:{},styles:{}},B=[],j=!1,N={state:C,setOptions:function(y){var v=typeof y=="function"?y(C.options):y;q(),C.options=Object.assign({},u,C.options,v),C.scrollParents={reference:pt(b)?Yt(b):b.contextElement?Yt(b.contextElement):[],popper:Yt(S)};var f=Ia(Ma([].concat(r,C.options.modifiers)));return C.orderedModifiers=f.filter(function(l){return l.enabled}),W(),N.update()},forceUpdate:function(){if(!j){var y=C.elements,v=y.reference,f=y.popper;if(!!Kr(v,f)){C.rects={reference:ma(v,Xt(f),C.options.strategy==="fixed"),popper:xs(f)},C.reset=!1,C.placement=C.options.placement,C.orderedModifiers.forEach(function(L){return C.modifiersData[L.name]=Object.assign({},L.data)});for(var l=0;l<C.orderedModifiers.length;l++){if(C.reset===!0){C.reset=!1,l=-1;continue}var h=C.orderedModifiers[l],d=h.fn,R=h.options,E=R===void 0?{}:R,T=h.name;typeof d=="function"&&(C=d({state:C,options:E,name:T,instance:N})||C)}}}},update:xa(function(){return new Promise(function(M){N.forceUpdate(),M(C)})}),destroy:function(){q(),j=!0}};if(!Kr(b,S))return N;N.setOptions(I).then(function(M){!j&&I.onFirstUpdate&&I.onFirstUpdate(M)});function W(){C.orderedModifiers.forEach(function(M){var y=M.name,v=M.options,f=v===void 0?{}:v,l=M.effect;if(typeof l=="function"){var h=l({state:C,name:y,instance:N,options:f}),d=function(){};B.push(h||d)}})}function q(){B.forEach(function(M){return M()}),B=[]}return N}}var Oi={passive:!0};function Ha(i){var e=i.state,t=i.instance,r=i.options,o=r.scroll,u=o===void 0?!0:o,w=r.resize,b=w===void 0?!0:w,S=Re(e.elements.popper),I=[].concat(e.scrollParents.reference,e.scrollParents.popper);return u&&I.forEach(function(C){C.addEventListener("scroll",t.update,Oi)}),b&&S.addEventListener("resize",t.update,Oi),function(){u&&I.forEach(function(C){C.removeEventListener("scroll",t.update,Oi)}),b&&S.removeEventListener("resize",t.update,Oi)}}var ks={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ha,data:{}};function Ba(i){var e=i.state,t=i.name;e.modifiersData[t]=rn({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Ns={name:"popperOffsets",enabled:!0,phase:"read",fn:Ba,data:{}},$a={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Va(i,e){var t=i.x,r=i.y,o=e.devicePixelRatio||1;return{x:Tt(t*o)/o||0,y:Tt(r*o)/o||0}}function Yr(i){var e,t=i.popper,r=i.popperRect,o=i.placement,u=i.variation,w=i.offsets,b=i.position,S=i.gpuAcceleration,I=i.adaptive,C=i.roundOffsets,B=i.isFixed,j=w.x,N=j===void 0?0:j,W=w.y,q=W===void 0?0:W,M=typeof C=="function"?C({x:N,y:q}):{x:N,y:q};N=M.x,q=M.y;var y=w.hasOwnProperty("x"),v=w.hasOwnProperty("y"),f=Te,l=Ce,h=window;if(I){var d=Xt(t),R="clientHeight",E="clientWidth";if(d===Re(t)&&(d=ot(t),Xe(d).position!=="static"&&b==="absolute"&&(R="scrollHeight",E="scrollWidth")),d=d,o===Ce||(o===Te||o===xe)&&u===Qt){l=Ie;var T=B&&d===h&&h.visualViewport?h.visualViewport.height:d[R];q-=T-r.height,q*=S?1:-1}if(o===Te||(o===Ce||o===Ie)&&u===Qt){f=xe;var L=B&&d===h&&h.visualViewport?h.visualViewport.width:d[E];N-=L-r.width,N*=S?1:-1}}var P=Object.assign({position:b},I&&$a),H=C===!0?Va({x:N,y:q},Re(t)):{x:N,y:q};if(N=H.x,q=H.y,S){var k;return Object.assign({},P,(k={},k[l]=v?"0":"",k[f]=y?"0":"",k.transform=(h.devicePixelRatio||1)<=1?"translate("+N+"px, "+q+"px)":"translate3d("+N+"px, "+q+"px, 0)",k))}return Object.assign({},P,(e={},e[l]=v?q+"px":"",e[f]=y?N+"px":"",e.transform="",e))}function Wa(i){var e=i.state,t=i.options,r=t.gpuAcceleration,o=r===void 0?!0:r,u=t.adaptive,w=u===void 0?!0:u,b=t.roundOffsets,S=b===void 0?!0:b,I={placement:Ue(e.placement),variation:Rt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Yr(Object.assign({},I,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:w,roundOffsets:S})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Yr(Object.assign({},I,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:S})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var qs={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Wa,data:{}};function ja(i){var e=i.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},o=e.attributes[t]||{},u=e.elements[t];!Pe(u)||!ze(u)||(Object.assign(u.style,r),Object.keys(o).forEach(function(w){var b=o[w];b===!1?u.removeAttribute(w):u.setAttribute(w,b===!0?"":b)}))})}function Ua(i){var e=i.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var o=e.elements[r],u=e.attributes[r]||{},w=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),b=w.reduce(function(S,I){return S[I]="",S},{});!Pe(o)||!ze(o)||(Object.assign(o.style,b),Object.keys(u).forEach(function(S){o.removeAttribute(S)}))})}}var Hs={name:"applyStyles",enabled:!0,phase:"write",fn:ja,effect:Ua,requires:["computeStyles"]};function za(i,e,t){var r=Ue(i),o=[Te,Ce].indexOf(r)>=0?-1:1,u=typeof t=="function"?t(Object.assign({},e,{placement:i})):t,w=u[0],b=u[1];return w=w||0,b=(b||0)*o,[Te,xe].indexOf(r)>=0?{x:b,y:w}:{x:w,y:b}}function Ka(i){var e=i.state,t=i.options,r=i.name,o=t.offset,u=o===void 0?[0,0]:o,w=tn.reduce(function(C,B){return C[B]=za(B,e.rects,u),C},{}),b=w[e.placement],S=b.x,I=b.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=S,e.modifiersData.popperOffsets.y+=I),e.modifiersData[r]=w}var ln={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ka},Ya={left:"right",right:"left",bottom:"top",top:"bottom"};function Ri(i){return i.replace(/left|right|bottom|top/g,function(e){return Ya[e]})}var Ga={start:"end",end:"start"};function Gr(i){return i.replace(/start|end/g,function(e){return Ga[e]})}function Qa(i,e){e===void 0&&(e={});var t=e,r=t.placement,o=t.boundary,u=t.rootBoundary,w=t.padding,b=t.flipVariations,S=t.allowedAutoPlacements,I=S===void 0?tn:S,C=Rt(r),B=C?b?jr:jr.filter(function(W){return Rt(W)===C}):Jt,j=B.filter(function(W){return I.indexOf(W)>=0});j.length===0&&(j=B);var N=j.reduce(function(W,q){return W[q]=Pt(i,{placement:q,boundary:o,rootBoundary:u,padding:w})[Ue(q)],W},{});return Object.keys(N).sort(function(W,q){return N[W]-N[q]})}function Xa(i){if(Ue(i)===Ms)return[];var e=Ri(i);return[Gr(i),e,Gr(e)]}function Ja(i){var e=i.state,t=i.options,r=i.name;if(!e.modifiersData[r]._skip){for(var o=t.mainAxis,u=o===void 0?!0:o,w=t.altAxis,b=w===void 0?!0:w,S=t.fallbackPlacements,I=t.padding,C=t.boundary,B=t.rootBoundary,j=t.altBoundary,N=t.flipVariations,W=N===void 0?!0:N,q=t.allowedAutoPlacements,M=e.options.placement,y=Ue(M),v=y===M,f=S||(v||!W?[Ri(M)]:Xa(M)),l=[M].concat(f).reduce(function(Se,se){return Se.concat(Ue(se)===Ms?Qa(e,{placement:se,boundary:C,rootBoundary:B,padding:I,flipVariations:W,allowedAutoPlacements:q}):se)},[]),h=e.rects.reference,d=e.rects.popper,R=new Map,E=!0,T=l[0],L=0;L<l.length;L++){var P=l[L],H=Ue(P),k=Rt(P)===Ot,U=[Ce,Ie].indexOf(H)>=0,X=U?"width":"height",K=Pt(e,{placement:P,boundary:C,rootBoundary:B,altBoundary:j,padding:I}),ie=U?k?xe:Te:k?Ie:Ce;h[X]>d[X]&&(ie=Ri(ie));var qe=Ri(ie),fe=[];if(u&&fe.push(K[H]<=0),b&&fe.push(K[ie]<=0,K[qe]<=0),fe.every(function(Se){return Se})){T=P,E=!1;break}R.set(P,fe)}if(E)for(var He=W?3:1,ce=function(se){var Be=l.find(function(Ze){var Le=R.get(Ze);if(Le)return Le.slice(0,se).every(function($e){return $e})});if(Be)return T=Be,"break"},Ke=He;Ke>0;Ke--){var Je=ce(Ke);if(Je==="break")break}e.placement!==T&&(e.modifiersData[r]._skip=!0,e.placement=T,e.reset=!0)}}var cn={name:"flip",enabled:!0,phase:"main",fn:Ja,requiresIfExists:["offset"],data:{_skip:!1}};function Za(i){return i==="x"?"y":"x"}function Gt(i,e,t){return ft(i,Pi(e,t))}function el(i,e,t){var r=Gt(i,e,t);return r>t?t:r}function tl(i){var e=i.state,t=i.options,r=i.name,o=t.mainAxis,u=o===void 0?!0:o,w=t.altAxis,b=w===void 0?!1:w,S=t.boundary,I=t.rootBoundary,C=t.altBoundary,B=t.padding,j=t.tether,N=j===void 0?!0:j,W=t.tetherOffset,q=W===void 0?0:W,M=Pt(e,{boundary:S,rootBoundary:I,padding:B,altBoundary:C}),y=Ue(e.placement),v=Rt(e.placement),f=!v,l=Fs(y),h=Za(l),d=e.modifiersData.popperOffsets,R=e.rects.reference,E=e.rects.popper,T=typeof q=="function"?q(Object.assign({},e.rects,{placement:e.placement})):q,L=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),P=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,H={x:0,y:0};if(!!d){if(u){var k,U=l==="y"?Ce:Te,X=l==="y"?Ie:xe,K=l==="y"?"height":"width",ie=d[l],qe=ie+M[U],fe=ie-M[X],He=N?-E[K]/2:0,ce=v===Ot?R[K]:E[K],Ke=v===Ot?-E[K]:-R[K],Je=e.elements.arrow,Se=N&&Je?xs(Je):{width:0,height:0},se=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:nn(),Be=se[U],Ze=se[X],Le=Gt(0,R[K],Se[K]),$e=f?R[K]/2-He-Le-Be-L.mainAxis:ce-Le-Be-L.mainAxis,ee=f?-R[K]/2+He+Le+Ze+L.mainAxis:Ke+Le+Ze+L.mainAxis,ue=e.elements.arrow&&Xt(e.elements.arrow),x=ue?l==="y"?ue.clientTop||0:ue.clientLeft||0:0,G=(k=P?.[l])!=null?k:0,de=ie+$e-G-x,pe=ie+ee-G,Ve=Gt(N?Pi(qe,de):qe,ie,N?ft(fe,pe):fe);d[l]=Ve,H[l]=Ve-ie}if(b){var Ae,J=l==="x"?Ce:Te,It=l==="x"?Ie:xe,Ye=d[h],gt=h==="y"?"height":"width",Zt=Ye+M[J],ei=Ye-M[It],vt=[Ce,Te].indexOf(y)!==-1,ti=(Ae=P?.[h])!=null?Ae:0,ii=vt?Zt:Ye-R[gt]-E[gt]-ti+L.altAxis,si=vt?Ye+R[gt]+E[gt]-ti-L.altAxis:ei,ri=N&&vt?el(ii,Ye,si):Gt(N?ii:Zt,Ye,N?si:ei);d[h]=ri,H[h]=ri-Ye}e.modifiersData[r]=H}}var un={name:"preventOverflow",enabled:!0,phase:"main",fn:tl,requiresIfExists:["offset"]},il=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,on(typeof e!="number"?e:an(e,Jt))};function sl(i){var e,t=i.state,r=i.name,o=i.options,u=t.elements.arrow,w=t.modifiersData.popperOffsets,b=Ue(t.placement),S=Fs(b),I=[Te,xe].indexOf(b)>=0,C=I?"height":"width";if(!(!u||!w)){var B=il(o.padding,t),j=xs(u),N=S==="y"?Ce:Te,W=S==="y"?Ie:xe,q=t.rects.reference[C]+t.rects.reference[S]-w[S]-t.rects.popper[C],M=w[S]-t.rects.reference[S],y=Xt(u),v=y?S==="y"?y.clientHeight||0:y.clientWidth||0:0,f=q/2-M/2,l=B[N],h=v-j[C]-B[W],d=v/2-j[C]/2+f,R=Gt(l,d,h),E=S;t.modifiersData[r]=(e={},e[E]=R,e.centerOffset=R-d,e)}}function rl(i){var e=i.state,t=i.options,r=t.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||!sn(e.elements.popper,o)||(e.elements.arrow=o))}var dn={name:"arrow",enabled:!0,phase:"main",fn:sl,effect:rl,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Qr(i,e,t){return t===void 0&&(t={x:0,y:0}),{top:i.top-e.height-t.y,right:i.right-e.width+t.x,bottom:i.bottom-e.height+t.y,left:i.left-e.width-t.x}}function Xr(i){return[Ce,xe,Ie,Te].some(function(e){return i[e]>=0})}function nl(i){var e=i.state,t=i.name,r=e.rects.reference,o=e.rects.popper,u=e.modifiersData.preventOverflow,w=Pt(e,{elementContext:"reference"}),b=Pt(e,{altBoundary:!0}),S=Qr(w,r),I=Qr(b,o,u),C=Xr(S),B=Xr(I);e.modifiersData[t]={referenceClippingOffsets:S,popperEscapeOffsets:I,isReferenceHidden:C,hasPopperEscaped:B},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":C,"data-popper-escaped":B})}var hn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:nl},ol=[ks,Ns,qs,Hs],al=Ds({defaultModifiers:ol}),fn=[ks,Ns,qs,Hs,ln,cn,un,dn,hn],ll=Ds({defaultModifiers:fn});Ee.applyStyles=Hs;Ee.arrow=dn;Ee.computeStyles=qs;Ee.createPopper=ll;Ee.createPopperLite=al;Ee.defaultModifiers=fn;Ee.detectOverflow=Pt;Ee.eventListeners=ks;Ee.flip=cn;Ee.hide=hn;Ee.offset=ln;Ee.popperGenerator=Ds;Ee.popperOffsets=Ns;Ee.preventOverflow=un});var mn=Fe((Bs,$s)=>{(function(i,e){typeof Bs=="object"&&typeof $s<"u"?$s.exports=e():typeof define=="function"&&define.amd?define(e):(i=typeof globalThis<"u"?globalThis:i||self,i.Data=e())})(Bs,function(){"use strict";let i=new Map;return{set(t,r,o){i.has(t)||i.set(t,new Map);let u=i.get(t);if(!u.has(r)&&u.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(u.keys())[0]}.`);return}u.set(r,o)},get(t,r){return i.has(t)&&i.get(t).get(r)||null},remove(t,r){if(!i.has(t))return;let o=i.get(t);o.delete(r),o.size===0&&i.delete(t)}}})});var mt=Fe((xi,gn)=>{(function(i,e){typeof xi=="object"&&typeof gn<"u"?e(xi):typeof define=="function"&&define.amd?define(["exports"],e):(i=typeof globalThis<"u"?globalThis:i||self,e(i.Index={}))})(xi,function(i){"use strict";let r="transitionend",o=E=>(E&&window.CSS&&window.CSS.escape&&(E=E.replace(/#([^\s"#']+)/g,(T,L)=>`#${CSS.escape(L)}`)),E),u=E=>E==null?`${E}`:Object.prototype.toString.call(E).match(/\s([a-z]+)/i)[1].toLowerCase(),w=E=>{do E+=Math.floor(Math.random()*1e6);while(document.getElementById(E));return E},b=E=>{if(!E)return 0;let{transitionDuration:T,transitionDelay:L}=window.getComputedStyle(E),P=Number.parseFloat(T),H=Number.parseFloat(L);return!P&&!H?0:(T=T.split(",")[0],L=L.split(",")[0],(Number.parseFloat(T)+Number.parseFloat(L))*1e3)},S=E=>{E.dispatchEvent(new Event(r))},I=E=>!E||typeof E!="object"?!1:(typeof E.jquery<"u"&&(E=E[0]),typeof E.nodeType<"u"),C=E=>I(E)?E.jquery?E[0]:E:typeof E=="string"&&E.length>0?document.querySelector(o(E)):null,B=E=>{if(!I(E)||E.getClientRects().length===0)return!1;let T=getComputedStyle(E).getPropertyValue("visibility")==="visible",L=E.closest("details:not([open])");if(!L)return T;if(L!==E){let P=E.closest("summary");if(P&&P.parentNode!==L||P===null)return!1}return T},j=E=>!E||E.nodeType!==Node.ELEMENT_NODE||E.classList.contains("disabled")?!0:typeof E.disabled<"u"?E.disabled:E.hasAttribute("disabled")&&E.getAttribute("disabled")!=="false",N=E=>{if(!document.documentElement.attachShadow)return null;if(typeof E.getRootNode=="function"){let T=E.getRootNode();return T instanceof ShadowRoot?T:null}return E instanceof ShadowRoot?E:E.parentNode?N(E.parentNode):null},W=()=>{},q=E=>{E.offsetHeight},M=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,y=[],v=E=>{document.readyState==="loading"?(y.length||document.addEventListener("DOMContentLoaded",()=>{for(let T of y)T()}),y.push(E)):E()},f=()=>document.documentElement.dir==="rtl",l=E=>{v(()=>{let T=M();if(T){let L=E.NAME,P=T.fn[L];T.fn[L]=E.jQueryInterface,T.fn[L].Constructor=E,T.fn[L].noConflict=()=>(T.fn[L]=P,E.jQueryInterface)}})},h=(E,T=[],L=E)=>typeof E=="function"?E(...T):L,d=(E,T,L=!0)=>{if(!L){h(E);return}let P=5,H=b(T)+P,k=!1,U=({target:X})=>{X===T&&(k=!0,T.removeEventListener(r,U),h(E))};T.addEventListener(r,U),setTimeout(()=>{k||S(T)},H)},R=(E,T,L,P)=>{let H=E.length,k=E.indexOf(T);return k===-1?!L&&P?E[H-1]:E[0]:(k+=L?1:-1,P&&(k=(k+H)%H),E[Math.max(0,Math.min(k,H-1))])};i.defineJQueryPlugin=l,i.execute=h,i.executeAfterTransition=d,i.findShadowRoot=N,i.getElement=C,i.getNextActiveElement=R,i.getTransitionDurationFromElement=b,i.getUID=w,i.getjQuery=M,i.isDisabled=j,i.isElement=I,i.isRTL=f,i.isVisible=B,i.noop=W,i.onDOMContentLoaded=v,i.parseSelector=o,i.reflow=q,i.toType=u,i.triggerTransitionEnd=S,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})})});var Mi=Fe((Vs,Ws)=>{(function(i,e){typeof Vs=="object"&&typeof Ws<"u"?Ws.exports=e(mt()):typeof define=="function"&&define.amd?define(["../util/index"],e):(i=typeof globalThis<"u"?globalThis:i||self,i.EventHandler=e(i.Index))})(Vs,function(i){"use strict";let e=/[^.]*(?=\..*)\.|.*/,t=/\..*/,r=/::\d+$/,o={},u=1,w={mouseenter:"mouseover",mouseleave:"mouseout"},b=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function S(l,h){return h&&`${h}::${u++}`||l.uidEvent||u++}function I(l){let h=S(l);return l.uidEvent=h,o[h]=o[h]||{},o[h]}function C(l,h){return function d(R){return f(R,{delegateTarget:l}),d.oneOff&&v.off(l,R.type,h),h.apply(l,[R])}}function B(l,h,d){return function R(E){let T=l.querySelectorAll(h);for(let{target:L}=E;L&&L!==this;L=L.parentNode)for(let P of T)if(P===L)return f(E,{delegateTarget:L}),R.oneOff&&v.off(l,E.type,h,d),d.apply(L,[E])}}function j(l,h,d=null){return Object.values(l).find(R=>R.callable===h&&R.delegationSelector===d)}function N(l,h,d){let R=typeof h=="string",E=R?d:h||d,T=y(l);return b.has(T)||(T=l),[R,E,T]}function W(l,h,d,R,E){if(typeof h!="string"||!l)return;let[T,L,P]=N(h,d,R);h in w&&(L=(qe=>function(fe){if(!fe.relatedTarget||fe.relatedTarget!==fe.delegateTarget&&!fe.delegateTarget.contains(fe.relatedTarget))return qe.call(this,fe)})(L));let H=I(l),k=H[P]||(H[P]={}),U=j(k,L,T?d:null);if(U){U.oneOff=U.oneOff&&E;return}let X=S(L,h.replace(e,"")),K=T?B(l,d,L):C(l,L);K.delegationSelector=T?d:null,K.callable=L,K.oneOff=E,K.uidEvent=X,k[X]=K,l.addEventListener(P,K,T)}function q(l,h,d,R,E){let T=j(h[d],R,E);!T||(l.removeEventListener(d,T,Boolean(E)),delete h[d][T.uidEvent])}function M(l,h,d,R){let E=h[d]||{};for(let[T,L]of Object.entries(E))T.includes(R)&&q(l,h,d,L.callable,L.delegationSelector)}function y(l){return l=l.replace(t,""),w[l]||l}let v={on(l,h,d,R){W(l,h,d,R,!1)},one(l,h,d,R){W(l,h,d,R,!0)},off(l,h,d,R){if(typeof h!="string"||!l)return;let[E,T,L]=N(h,d,R),P=L!==h,H=I(l),k=H[L]||{},U=h.startsWith(".");if(typeof T<"u"){if(!Object.keys(k).length)return;q(l,H,L,T,E?d:null);return}if(U)for(let X of Object.keys(H))M(l,H,X,h.slice(1));for(let[X,K]of Object.entries(k)){let ie=X.replace(r,"");(!P||h.includes(ie))&&q(l,H,L,K.callable,K.delegationSelector)}},trigger(l,h,d){if(typeof h!="string"||!l)return null;let R=i.getjQuery(),E=y(h),T=h!==E,L=null,P=!0,H=!0,k=!1;T&&R&&(L=R.Event(h,d),R(l).trigger(L),P=!L.isPropagationStopped(),H=!L.isImmediatePropagationStopped(),k=L.isDefaultPrevented());let U=f(new Event(h,{bubbles:P,cancelable:!0}),d);return k&&U.preventDefault(),H&&l.dispatchEvent(U),U.defaultPrevented&&L&&L.preventDefault(),U}};function f(l,h={}){for(let[d,R]of Object.entries(h))try{l[d]=R}catch{Object.defineProperty(l,d,{configurable:!0,get(){return R}})}return l}return v})});var zs=Fe((js,Us)=>{(function(i,e){typeof js=="object"&&typeof Us<"u"?Us.exports=e():typeof define=="function"&&define.amd?define(e):(i=typeof globalThis<"u"?globalThis:i||self,i.Manipulator=e())})(js,function(){"use strict";function i(r){if(r==="true")return!0;if(r==="false")return!1;if(r===Number(r).toString())return Number(r);if(r===""||r==="null")return null;if(typeof r!="string")return r;try{return JSON.parse(decodeURIComponent(r))}catch{return r}}function e(r){return r.replace(/[A-Z]/g,o=>`-${o.toLowerCase()}`)}return{setDataAttribute(r,o,u){r.setAttribute(`data-bs-${e(o)}`,u)},removeDataAttribute(r,o){r.removeAttribute(`data-bs-${e(o)}`)},getDataAttributes(r){if(!r)return{};let o={},u=Object.keys(r.dataset).filter(w=>w.startsWith("bs")&&!w.startsWith("bsConfig"));for(let w of u){let b=w.replace(/^bs/,"");b=b.charAt(0).toLowerCase()+b.slice(1,b.length),o[b]=i(r.dataset[w])}return o},getDataAttribute(r,o){return i(r.getAttribute(`data-bs-${e(o)}`))}}})});var vn=Fe((Ks,Ys)=>{(function(i,e){typeof Ks=="object"&&typeof Ys<"u"?Ys.exports=e(zs(),mt()):typeof define=="function"&&define.amd?define(["../dom/manipulator","./index"],e):(i=typeof globalThis<"u"?globalThis:i||self,i.Config=e(i.Manipulator,i.Index))})(Ks,function(i,e){"use strict";class t{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(o){return o=this._mergeConfigObj(o),o=this._configAfterMerge(o),this._typeCheckConfig(o),o}_configAfterMerge(o){return o}_mergeConfigObj(o,u){let w=e.isElement(u)?i.getDataAttribute(u,"config"):{};return{...this.constructor.Default,...typeof w=="object"?w:{},...e.isElement(u)?i.getDataAttributes(u):{},...typeof o=="object"?o:{}}}_typeCheckConfig(o,u=this.constructor.DefaultType){for(let[w,b]of Object.entries(u)){let S=o[w],I=e.isElement(S)?"element":e.toType(S);if(!new RegExp(b).test(I))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${w}" provided type "${I}" but expected type "${b}".`)}}}return t})});var Xs=Fe((Gs,Qs)=>{(function(i,e){typeof Gs=="object"&&typeof Qs<"u"?Qs.exports=e(mn(),Mi(),vn(),mt()):typeof define=="function"&&define.amd?define(["./dom/data","./dom/event-handler","./util/config","./util/index"],e):(i=typeof globalThis<"u"?globalThis:i||self,i.BaseComponent=e(i.Data,i.EventHandler,i.Config,i.Index))})(Gs,function(i,e,t,r){"use strict";let o="5.3.0";class u extends t{constructor(b,S){super(),b=r.getElement(b),b&&(this._element=b,this._config=this._getConfig(S),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),e.off(this._element,this.constructor.EVENT_KEY);for(let b of Object.getOwnPropertyNames(this))this[b]=null}_queueCallback(b,S,I=!0){r.executeAfterTransition(b,S,I)}_getConfig(b){return b=this._mergeConfigObj(b,this._element),b=this._configAfterMerge(b),this._typeCheckConfig(b),b}static getInstance(b){return i.get(r.getElement(b),this.DATA_KEY)}static getOrCreateInstance(b,S={}){return this.getInstance(b)||new this(b,typeof S=="object"?S:null)}static get VERSION(){return o}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(b){return`${b}${this.EVENT_KEY}`}}return u})});var er=Fe((Js,Zs)=>{(function(i,e){typeof Js=="object"&&typeof Zs<"u"?Zs.exports=e(mt()):typeof define=="function"&&define.amd?define(["../util/index"],e):(i=typeof globalThis<"u"?globalThis:i||self,i.SelectorEngine=e(i.Index))})(Js,function(i){"use strict";let e=r=>{let o=r.getAttribute("data-bs-target");if(!o||o==="#"){let u=r.getAttribute("href");if(!u||!u.includes("#")&&!u.startsWith("."))return null;u.includes("#")&&!u.startsWith("#")&&(u=`#${u.split("#")[1]}`),o=u&&u!=="#"?u.trim():null}return i.parseSelector(o)},t={find(r,o=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(o,r))},findOne(r,o=document.documentElement){return Element.prototype.querySelector.call(o,r)},children(r,o){return[].concat(...r.children).filter(u=>u.matches(o))},parents(r,o){let u=[],w=r.parentNode.closest(o);for(;w;)u.push(w),w=w.parentNode.closest(o);return u},prev(r,o){let u=r.previousElementSibling;for(;u;){if(u.matches(o))return[u];u=u.previousElementSibling}return[]},next(r,o){let u=r.nextElementSibling;for(;u;){if(u.matches(o))return[u];u=u.nextElementSibling}return[]},focusableChildren(r){let o=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(u=>`${u}:not([tabindex^="-"])`).join(",");return this.find(o,r).filter(u=>!i.isDisabled(u)&&i.isVisible(u))},getSelectorFromElement(r){let o=e(r);return o&&t.findOne(o)?o:null},getElementFromSelector(r){let o=e(r);return o?t.findOne(o):null},getMultipleElementsFromSelector(r){let o=e(r);return o?t.find(o):[]}};return t})});var bn=Fe((tr,ir)=>{(function(i,e){typeof tr=="object"&&typeof ir<"u"?ir.exports=e(pn(),Xs(),Mi(),zs(),er(),mt()):typeof define=="function"&&define.amd?define(["@popperjs/core","./base-component","./dom/event-handler","./dom/manipulator","./dom/selector-engine","./util/index"],e):(i=typeof globalThis<"u"?globalThis:i||self,i.Dropdown=e(i["@popperjs/core"],i.BaseComponent,i.EventHandler,i.Manipulator,i.SelectorEngine,i.Index))})(tr,function(i,e,t,r,o,u){"use strict";function w(ue){let x=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(ue){for(let G in ue)if(G!=="default"){let de=Object.getOwnPropertyDescriptor(ue,G);Object.defineProperty(x,G,de.get?de:{enumerable:!0,get:()=>ue[G]})}}return x.default=ue,Object.freeze(x)}let b=w(i),S="dropdown",C=".bs.dropdown",B=".data-api",j="Escape",N="Tab",W="ArrowUp",q="ArrowDown",M=2,y=`hide${C}`,v=`hidden${C}`,f=`show${C}`,l=`shown${C}`,h=`click${C}${B}`,d=`keydown${C}${B}`,R=`keyup${C}${B}`,E="show",T="dropup",L="dropend",P="dropstart",H="dropup-center",k="dropdown-center",U='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',X=`${U}.${E}`,K=".dropdown-menu",ie=".navbar",qe=".navbar-nav",fe=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",He=u.isRTL()?"top-end":"top-start",ce=u.isRTL()?"top-start":"top-end",Ke=u.isRTL()?"bottom-end":"bottom-start",Je=u.isRTL()?"bottom-start":"bottom-end",Se=u.isRTL()?"left-start":"right-start",se=u.isRTL()?"right-start":"left-start",Be="top",Ze="bottom",Le={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},$e={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ee extends e{constructor(x,G){super(x,G),this._popper=null,this._parent=this._element.parentNode,this._menu=o.next(this._element,K)[0]||o.prev(this._element,K)[0]||o.findOne(K,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Le}static get DefaultType(){return $e}static get NAME(){return S}toggle(){return this._isShown()?this.hide():this.show()}show(){if(u.isDisabled(this._element)||this._isShown())return;let x={relatedTarget:this._element};if(!t.trigger(this._element,f,x).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(qe))for(let de of[].concat(...document.body.children))t.on(de,"mouseover",u.noop);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(E),this._element.classList.add(E),t.trigger(this._element,l,x)}}hide(){if(u.isDisabled(this._element)||!this._isShown())return;let x={relatedTarget:this._element};this._completeHide(x)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(x){if(!t.trigger(this._element,y,x).defaultPrevented){if("ontouchstart"in document.documentElement)for(let de of[].concat(...document.body.children))t.off(de,"mouseover",u.noop);this._popper&&this._popper.destroy(),this._menu.classList.remove(E),this._element.classList.remove(E),this._element.setAttribute("aria-expanded","false"),r.removeDataAttribute(this._menu,"popper"),t.trigger(this._element,v,x)}}_getConfig(x){if(x=super._getConfig(x),typeof x.reference=="object"&&!u.isElement(x.reference)&&typeof x.reference.getBoundingClientRect!="function")throw new TypeError(`${S.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return x}_createPopper(){if(typeof b>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let x=this._element;this._config.reference==="parent"?x=this._parent:u.isElement(this._config.reference)?x=u.getElement(this._config.reference):typeof this._config.reference=="object"&&(x=this._config.reference);let G=this._getPopperConfig();this._popper=b.createPopper(x,this._menu,G)}_isShown(){return this._menu.classList.contains(E)}_getPlacement(){let x=this._parent;if(x.classList.contains(L))return Se;if(x.classList.contains(P))return se;if(x.classList.contains(H))return Be;if(x.classList.contains(k))return Ze;let G=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return x.classList.contains(T)?G?ce:He:G?Je:Ke}_detectNavbar(){return this._element.closest(ie)!==null}_getOffset(){let{offset:x}=this._config;return typeof x=="string"?x.split(",").map(G=>Number.parseInt(G,10)):typeof x=="function"?G=>x(G,this._element):x}_getPopperConfig(){let x={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(r.setDataAttribute(this._menu,"popper","static"),x.modifiers=[{name:"applyStyles",enabled:!1}]),{...x,...u.execute(this._config.popperConfig,[x])}}_selectMenuItem({key:x,target:G}){let de=o.find(fe,this._menu).filter(pe=>u.isVisible(pe));!de.length||u.getNextActiveElement(de,G,x===q,!de.includes(G)).focus()}static jQueryInterface(x){return this.each(function(){let G=ee.getOrCreateInstance(this,x);if(typeof x=="string"){if(typeof G[x]>"u")throw new TypeError(`No method named "${x}"`);G[x]()}})}static clearMenus(x){if(x.button===M||x.type==="keyup"&&x.key!==N)return;let G=o.find(X);for(let de of G){let pe=ee.getInstance(de);if(!pe||pe._config.autoClose===!1)continue;let Ve=x.composedPath(),Ae=Ve.includes(pe._menu);if(Ve.includes(pe._element)||pe._config.autoClose==="inside"&&!Ae||pe._config.autoClose==="outside"&&Ae||pe._menu.contains(x.target)&&(x.type==="keyup"&&x.key===N||/input|select|option|textarea|form/i.test(x.target.tagName)))continue;let J={relatedTarget:pe._element};x.type==="click"&&(J.clickEvent=x),pe._completeHide(J)}}static dataApiKeydownHandler(x){let G=/input|textarea/i.test(x.target.tagName),de=x.key===j,pe=[W,q].includes(x.key);if(!pe&&!de||G&&!de)return;x.preventDefault();let Ve=this.matches(U)?this:o.prev(this,U)[0]||o.next(this,U)[0]||o.findOne(U,x.delegateTarget.parentNode),Ae=ee.getOrCreateInstance(Ve);if(pe){x.stopPropagation(),Ae.show(),Ae._selectMenuItem(x);return}Ae._isShown()&&(x.stopPropagation(),Ae.hide(),Ve.focus())}}return t.on(document,d,U,ee.dataApiKeydownHandler),t.on(document,d,K,ee.dataApiKeydownHandler),t.on(document,h,ee.clearMenus),t.on(document,R,ee.clearMenus),t.on(document,h,U,function(ue){ue.preventDefault(),ee.getOrCreateInstance(this).toggle()}),u.defineJQueryPlugin(ee),ee})});var yn=Fe((sr,rr)=>{(function(i,e){typeof sr=="object"&&typeof rr<"u"?rr.exports=e(Xs(),Mi(),er(),mt()):typeof define=="function"&&define.amd?define(["./base-component","./dom/event-handler","./dom/selector-engine","./util/index"],e):(i=typeof globalThis<"u"?globalThis:i||self,i.Collapse=e(i.BaseComponent,i.EventHandler,i.SelectorEngine,i.Index))})(sr,function(i,e,t,r){"use strict";let o="collapse",w=".bs.collapse",b=".data-api",S=`show${w}`,I=`shown${w}`,C=`hide${w}`,B=`hidden${w}`,j=`click${w}${b}`,N="show",W="collapse",q="collapsing",M="collapsed",y=`:scope .${W} .${W}`,v="collapse-horizontal",f="width",l="height",h=".collapse.show, .collapse.collapsing",d='[data-bs-toggle="collapse"]',R={parent:null,toggle:!0},E={parent:"(null|element)",toggle:"boolean"};class T extends i{constructor(P,H){super(P,H),this._isTransitioning=!1,this._triggerArray=[];let k=t.find(d);for(let U of k){let X=t.getSelectorFromElement(U),K=t.find(X).filter(ie=>ie===this._element);X!==null&&K.length&&this._triggerArray.push(U)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return R}static get DefaultType(){return E}static get NAME(){return o}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let P=[];if(this._config.parent&&(P=this._getFirstLevelChildren(h).filter(ie=>ie!==this._element).map(ie=>T.getOrCreateInstance(ie,{toggle:!1}))),P.length&&P[0]._isTransitioning||e.trigger(this._element,S).defaultPrevented)return;for(let ie of P)ie.hide();let k=this._getDimension();this._element.classList.remove(W),this._element.classList.add(q),this._element.style[k]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let U=()=>{this._isTransitioning=!1,this._element.classList.remove(q),this._element.classList.add(W,N),this._element.style[k]="",e.trigger(this._element,I)},K=`scroll${k[0].toUpperCase()+k.slice(1)}`;this._queueCallback(U,this._element,!0),this._element.style[k]=`${this._element[K]}px`}hide(){if(this._isTransitioning||!this._isShown()||e.trigger(this._element,C).defaultPrevented)return;let H=this._getDimension();this._element.style[H]=`${this._element.getBoundingClientRect()[H]}px`,r.reflow(this._element),this._element.classList.add(q),this._element.classList.remove(W,N);for(let U of this._triggerArray){let X=t.getElementFromSelector(U);X&&!this._isShown(X)&&this._addAriaAndCollapsedClass([U],!1)}this._isTransitioning=!0;let k=()=>{this._isTransitioning=!1,this._element.classList.remove(q),this._element.classList.add(W),e.trigger(this._element,B)};this._element.style[H]="",this._queueCallback(k,this._element,!0)}_isShown(P=this._element){return P.classList.contains(N)}_configAfterMerge(P){return P.toggle=Boolean(P.toggle),P.parent=r.getElement(P.parent),P}_getDimension(){return this._element.classList.contains(v)?f:l}_initializeChildren(){if(!this._config.parent)return;let P=this._getFirstLevelChildren(d);for(let H of P){let k=t.getElementFromSelector(H);k&&this._addAriaAndCollapsedClass([H],this._isShown(k))}}_getFirstLevelChildren(P){let H=t.find(y,this._config.parent);return t.find(P,this._config.parent).filter(k=>!H.includes(k))}_addAriaAndCollapsedClass(P,H){if(!!P.length)for(let k of P)k.classList.toggle(M,!H),k.setAttribute("aria-expanded",H)}static jQueryInterface(P){let H={};return typeof P=="string"&&/show|hide/.test(P)&&(H.toggle=!1),this.each(function(){let k=T.getOrCreateInstance(this,H);if(typeof P=="string"){if(typeof k[P]>"u")throw new TypeError(`No method named "${P}"`);k[P]()}})}}return e.on(document,j,d,function(L){(L.target.tagName==="A"||L.delegateTarget&&L.delegateTarget.tagName==="A")&&L.preventDefault();for(let P of t.getMultipleElementsFromSelector(this))T.getOrCreateInstance(P,{toggle:!1}).toggle()}),r.defineJQueryPlugin(T),T})});var wn=Fe((nr,or)=>{(function(i,e){typeof nr=="object"&&typeof or<"u"?or.exports=e():typeof define=="function"&&define.amd?define(e):(i=typeof globalThis<"u"?globalThis:i||self,i.TomSelect=e())})(nr,function(){"use strict";function i(c,s){c.split(/\s+/).forEach(n=>{s(n)})}class e{constructor(){this._events=void 0,this._events={}}on(s,n){i(s,a=>{let p=this._events[a]||[];p.push(n),this._events[a]=p})}off(s,n){var a=arguments.length;if(a===0){this._events={};return}i(s,p=>{if(a===1){delete this._events[p];return}let g=this._events[p];g!==void 0&&(g.splice(g.indexOf(n),1),this._events[p]=g)})}trigger(s,...n){var a=this;i(s,p=>{let g=a._events[p];g!==void 0&&g.forEach(m=>{m.apply(a,n)})})}}function t(c){return c.plugins={},class extends c{constructor(...s){super(...s),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(s,n){c.plugins[s]={name:s,fn:n}}initializePlugins(s){var n,a;let p=this,g=[];if(Array.isArray(s))s.forEach(m=>{typeof m=="string"?g.push(m):(p.plugins.settings[m.name]=m.options,g.push(m.name))});else if(s)for(n in s)s.hasOwnProperty(n)&&(p.plugins.settings[n]=s[n],g.push(n));for(;a=g.shift();)p.require(a)}loadPlugin(s){var n=this,a=n.plugins,p=c.plugins[s];if(!c.plugins.hasOwnProperty(s))throw new Error('Unable to find "'+s+'" plugin');a.requested[s]=!0,a.loaded[s]=p.fn.apply(n,[n.plugins.settings[s]||{}]),a.names.push(s)}require(s){var n=this,a=n.plugins;if(!n.plugins.loaded.hasOwnProperty(s)){if(a.requested[s])throw new Error('Plugin has circular dependency ("'+s+'")');n.loadPlugin(s)}return a.loaded[s]}}}let r=c=>(c=c.filter(Boolean),c.length<2?c[0]||"":S(c)==1?"["+c.join("")+"]":"(?:"+c.join("|")+")"),o=c=>{if(!w(c))return c.join("");let s="",n=0,a=()=>{n>1&&(s+="{"+n+"}")};return c.forEach((p,g)=>{if(p===c[g-1]){n++;return}a(),s+=p,n=1}),a(),s},u=c=>{let s=C(c);return r(s)},w=c=>new Set(c).size!==c.length,b=c=>(c+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),S=c=>c.reduce((s,n)=>Math.max(s,I(n)),0),I=c=>C(c).length,C=c=>Array.from(c);let B=c=>{if(c.length===1)return[[c]];let s=[],n=c.substring(1);return B(n).forEach(function(p){let g=p.slice(0);g[0]=c.charAt(0)+g[0],s.push(g),g=p.slice(0),g.unshift(c.charAt(0)),s.push(g)}),s};let j=[[0,65535]],N="[\u0300-\u036F\xB7\u02BE\u02BC]",W,q,M=3,y={},v={"/":"\u2044\u2215",0:"\u07C0",a:"\u2C65\u0250\u0251",aa:"\uA733",ae:"\xE6\u01FD\u01E3",ao:"\uA735",au:"\uA737",av:"\uA739\uA73B",ay:"\uA73D",b:"\u0180\u0253\u0183",c:"\uA73F\u0188\u023C\u2184",d:"\u0111\u0257\u0256\u1D05\u018C\uABB7\u0501\u0266",e:"\u025B\u01DD\u1D07\u0247",f:"\uA77C\u0192",g:"\u01E5\u0260\uA7A1\u1D79\uA77F\u0262",h:"\u0127\u2C68\u2C76\u0265",i:"\u0268\u0131",j:"\u0249\u0237",k:"\u0199\u2C6A\uA741\uA743\uA745\uA7A3",l:"\u0142\u019A\u026B\u2C61\uA749\uA747\uA781\u026D",m:"\u0271\u026F\u03FB",n:"\uA7A5\u019E\u0272\uA791\u1D0E\u043B\u0509",o:"\xF8\u01FF\u0254\u0275\uA74B\uA74D\u1D11",oe:"\u0153",oi:"\u01A3",oo:"\uA74F",ou:"\u0223",p:"\u01A5\u1D7D\uA751\uA753\uA755\u03C1",q:"\uA757\uA759\u024B",r:"\u024D\u027D\uA75B\uA7A7\uA783",s:"\xDF\u023F\uA7A9\uA785\u0282",t:"\u0167\u01AD\u0288\u2C66\uA787",th:"\xFE",tz:"\uA729",u:"\u0289",v:"\u028B\uA75F\u028C",vy:"\uA761",w:"\u2C73",y:"\u01B4\u024F\u1EFF",z:"\u01B6\u0225\u0240\u2C6C\uA763",hv:"\u0195"};for(let c in v){let s=v[c]||"";for(let n=0;n<s.length;n++){let a=s.substring(n,n+1);y[a]=c}}let f=new RegExp(Object.keys(y).join("|")+"|"+N,"gu"),l=c=>{W===void 0&&(W=L(c||j))},h=(c,s="NFKD")=>c.normalize(s),d=c=>C(c).reduce((s,n)=>s+R(n),""),R=c=>(c=h(c).toLowerCase().replace(f,s=>y[s]||""),h(c,"NFC"));function*E(c){for(let[s,n]of c)for(let a=s;a<=n;a++){let p=String.fromCharCode(a),g=d(p);g!=p.toLowerCase()&&(g.length>M||g.length!=0&&(yield{folded:g,composed:p,code_point:a}))}}let T=c=>{let s={},n=(a,p)=>{let g=s[a]||new Set,m=new RegExp("^"+u(g)+"$","iu");p.match(m)||(g.add(b(p)),s[a]=g)};for(let a of E(c))n(a.folded,a.folded),n(a.folded,a.composed);return s},L=c=>{let s=T(c),n={},a=[];for(let g in s){let m=s[g];m&&(n[g]=u(m)),g.length>1&&a.push(b(g))}a.sort((g,m)=>m.length-g.length);let p=r(a);return q=new RegExp("^"+p,"u"),n},P=(c,s=1)=>{let n=0;return c=c.map(a=>(W[a]&&(n+=a.length),W[a]||a)),n>=s?o(c):""},H=(c,s=1)=>(s=Math.max(s,c.length-1),r(B(c).map(n=>P(n,s)))),k=(c,s=!0)=>{let n=c.length>1?1:0;return r(c.map(a=>{let p=[],g=s?a.length():a.length()-1;for(let m=0;m<g;m++)p.push(H(a.substrs[m]||"",n));return o(p)}))},U=(c,s)=>{for(let n of s){if(n.start!=c.start||n.end!=c.end||n.substrs.join("")!==c.substrs.join(""))continue;let a=c.parts,p=m=>{for(let A of a){if(A.start===m.start&&A.substr===m.substr)return!1;if(!(m.length==1||A.length==1)&&(m.start<A.start&&m.end>A.start||A.start<m.start&&A.end>m.start))return!0}return!1};if(!(n.parts.filter(p).length>0))return!0}return!1};class X{constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(s){s&&(this.parts.push(s),this.substrs.push(s.substr),this.start=Math.min(s.start,this.start),this.end=Math.max(s.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(s,n){let a=new X,p=JSON.parse(JSON.stringify(this.parts)),g=p.pop();for(let O of p)a.add(O);let m=n.substr.substring(0,s-g.start),A=m.length;return a.add({start:g.start,end:g.start+A,length:A,substr:m}),a}}let K=c=>{l(),c=d(c);let s="",n=[new X];for(let a=0;a<c.length;a++){let g=c.substring(a).match(q),m=c.substring(a,a+1),A=g?g[0]:null,O=[],_=new Set;for(let F of n){let $=F.last();if(!$||$.length==1||$.end<=a)if(A){let z=A.length;F.add({start:a,end:a+z,length:z,substr:A}),_.add("1")}else F.add({start:a,end:a+1,length:1,substr:m}),_.add("2");else if(A){let z=F.clone(a,$),ge=A.length;z.add({start:a,end:a+ge,length:ge,substr:A}),O.push(z)}else _.add("3")}if(O.length>0){O=O.sort((F,$)=>F.length()-$.length());for(let F of O)U(F,n)||n.push(F);continue}if(a>0&&_.size==1&&!_.has("3")){s+=k(n,!1);let F=new X,$=n[0];$&&F.add($.last()),n=[F]}}return s+=k(n,!0),s};let ie=(c,s)=>{if(!!c)return c[s]},qe=(c,s)=>{if(!!c){for(var n,a=s.split(".");(n=a.shift())&&(c=c[n]););return c}},fe=(c,s,n)=>{var a,p;return!c||(c=c+"",s.regex==null)||(p=c.search(s.regex),p===-1)?0:(a=s.string.length/c.length,p===0&&(a+=.5),a*n)},He=(c,s)=>{var n=c[s];if(typeof n=="function")return n;n&&!Array.isArray(n)&&(c[s]=[n])},ce=(c,s)=>{if(Array.isArray(c))c.forEach(s);else for(var n in c)c.hasOwnProperty(n)&&s(c[n],n)},Ke=(c,s)=>typeof c=="number"&&typeof s=="number"?c>s?1:c<s?-1:0:(c=d(c+"").toLowerCase(),s=d(s+"").toLowerCase(),c>s?1:s>c?-1:0);class Je{constructor(s,n){this.items=void 0,this.settings=void 0,this.items=s,this.settings=n||{diacritics:!0}}tokenize(s,n,a){if(!s||!s.length)return[];let p=[],g=s.split(/\s+/);var m;return a&&(m=new RegExp("^("+Object.keys(a).map(b).join("|")+"):(.*)$")),g.forEach(A=>{let O,_=null,F=null;m&&(O=A.match(m))&&(_=O[1],A=O[2]),A.length>0&&(this.settings.diacritics?F=K(A)||null:F=b(A),F&&n&&(F="\\b"+F)),p.push({string:A,regex:F?new RegExp(F,"iu"):null,field:_})}),p}getScoreFunction(s,n){var a=this.prepareSearch(s,n);return this._getScoreFunction(a)}_getScoreFunction(s){let n=s.tokens,a=n.length;if(!a)return function(){return 0};let p=s.options.fields,g=s.weights,m=p.length,A=s.getAttrFn;if(!m)return function(){return 1};let O=function(){return m===1?function(_,F){let $=p[0].field;return fe(A(F,$),_,g[$]||1)}:function(_,F){var $=0;if(_.field){let z=A(F,_.field);!_.regex&&z?$+=1/m:$+=fe(z,_,1)}else ce(g,(z,ge)=>{$+=fe(A(F,ge),_,z)});return $/m}}();return a===1?function(_){return O(n[0],_)}:s.options.conjunction==="and"?function(_){var F,$=0;for(let z of n){if(F=O(z,_),F<=0)return 0;$+=F}return $/a}:function(_){var F=0;return ce(n,$=>{F+=O($,_)}),F/a}}getSortFunction(s,n){var a=this.prepareSearch(s,n);return this._getSortFunction(a)}_getSortFunction(s){var n,a=[];let p=this,g=s.options,m=!s.query&&g.sort_empty?g.sort_empty:g.sort;if(typeof m=="function")return m.bind(this);let A=function(F,$){return F==="$score"?$.score:s.getAttrFn(p.items[$.id],F)};if(m)for(let _ of m)(s.query||_.field!=="$score")&&a.push(_);if(s.query){n=!0;for(let _ of a)if(_.field==="$score"){n=!1;break}n&&a.unshift({field:"$score",direction:"desc"})}else a=a.filter(_=>_.field!=="$score");return a.length?function(_,F){var $,z;for(let ge of a)if(z=ge.field,$=(ge.direction==="desc"?-1:1)*Ke(A(z,_),A(z,F)),$)return $;return 0}:null}prepareSearch(s,n){let a={};var p=Object.assign({},n);if(He(p,"sort"),He(p,"sort_empty"),p.fields){He(p,"fields");let g=[];p.fields.forEach(m=>{typeof m=="string"&&(m={field:m,weight:1}),g.push(m),a[m.field]="weight"in m?m.weight:1}),p.fields=g}return{options:p,query:s.toLowerCase().trim(),tokens:this.tokenize(s,p.respect_word_boundaries,a),total:0,items:[],weights:a,getAttrFn:p.nesting?qe:ie}}search(s,n){var a=this,p,g;g=this.prepareSearch(s,n),n=g.options,s=g.query;let m=n.score||a._getScoreFunction(g);s.length?ce(a.items,(O,_)=>{p=m(O),(n.filter===!1||p>0)&&g.items.push({score:p,id:_})}):ce(a.items,(O,_)=>{g.items.push({score:1,id:_})});let A=a._getSortFunction(g);return A&&g.items.sort(A),g.total=g.items.length,typeof n.limit=="number"&&(g.items=g.items.slice(0,n.limit)),g}}let Se=(c,s)=>{if(Array.isArray(c))c.forEach(s);else for(var n in c)c.hasOwnProperty(n)&&s(c[n],n)},se=c=>{if(c.jquery)return c[0];if(c instanceof HTMLElement)return c;if(Be(c)){var s=document.createElement("template");return s.innerHTML=c.trim(),s.content.firstChild}return document.querySelector(c)},Be=c=>typeof c=="string"&&c.indexOf("<")>-1,Ze=c=>c.replace(/['"\\]/g,"\\$&"),Le=(c,s)=>{var n=document.createEvent("HTMLEvents");n.initEvent(s,!0,!1),c.dispatchEvent(n)},$e=(c,s)=>{Object.assign(c.style,s)},ee=(c,...s)=>{var n=x(s);c=G(c),c.map(a=>{n.map(p=>{a.classList.add(p)})})},ue=(c,...s)=>{var n=x(s);c=G(c),c.map(a=>{n.map(p=>{a.classList.remove(p)})})},x=c=>{var s=[];return Se(c,n=>{typeof n=="string"&&(n=n.trim().split(/[\11\12\14\15\40]/)),Array.isArray(n)&&(s=s.concat(n))}),s.filter(Boolean)},G=c=>(Array.isArray(c)||(c=[c]),c),de=(c,s,n)=>{if(!(n&&!n.contains(c)))for(;c&&c.matches;){if(c.matches(s))return c;c=c.parentNode}},pe=(c,s=0)=>s>0?c[c.length-1]:c[0],Ve=c=>Object.keys(c).length===0,Ae=(c,s)=>{if(!c)return-1;s=s||c.nodeName;for(var n=0;c=c.previousElementSibling;)c.matches(s)&&n++;return n},J=(c,s)=>{Se(s,(n,a)=>{n==null?c.removeAttribute(a):c.setAttribute(a,""+n)})},It=(c,s)=>{c.parentNode&&c.parentNode.replaceChild(s,c)},Ye=(c,s)=>{if(s===null)return;if(typeof s=="string"){if(!s.length)return;s=new RegExp(s,"i")}let n=g=>{var m=g.data.match(s);if(m&&g.data.length>0){var A=document.createElement("span");A.className="highlight";var O=g.splitText(m.index);O.splitText(m[0].length);var _=O.cloneNode(!0);return A.appendChild(_),It(O,A),1}return 0},a=g=>{g.nodeType===1&&g.childNodes&&!/(script|style)/i.test(g.tagName)&&(g.className!=="highlight"||g.tagName!=="SPAN")&&Array.from(g.childNodes).forEach(m=>{p(m)})},p=g=>g.nodeType===3?n(g):(a(g),0);p(c)},gt=c=>{var s=c.querySelectorAll("span.highlight");Array.prototype.forEach.call(s,function(n){var a=n.parentNode;a.replaceChild(n.firstChild,n),a.normalize()})},Zt=65,ei=13,vt=27,ti=37,ii=38,si=39,ri=40,lr=8,_n=46,Fi=9,ni=(typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent))?"metaKey":"ctrlKey";var cr={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(c){return c.length>0},render:{}};let Me=c=>typeof c>"u"||c===null?null:oi(c),oi=c=>typeof c=="boolean"?c?"1":"0":c+"",ai=c=>(c+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Cn=(c,s)=>{var n;return function(a,p){var g=this;n&&(g.loading=Math.max(g.loading-1,0),clearTimeout(n)),n=setTimeout(function(){n=null,g.loadedSearches[a]=!0,c.call(g,a,p)},s)}},ur=(c,s,n)=>{var a,p=c.trigger,g={};c.trigger=function(){var m=arguments[0];if(s.indexOf(m)!==-1)g[m]=arguments;else return p.apply(c,arguments)},n.apply(c,[]),c.trigger=p;for(a of s)a in g&&p.apply(c,g[a])},Tn=c=>({start:c.selectionStart||0,length:(c.selectionEnd||0)-(c.selectionStart||0)}),re=(c,s=!1)=>{c&&(c.preventDefault(),s&&c.stopPropagation())},me=(c,s,n,a)=>{c.addEventListener(s,n,a)},at=(c,s)=>{if(!s||!s[c])return!1;var n=(s.altKey?1:0)+(s.ctrlKey?1:0)+(s.shiftKey?1:0)+(s.metaKey?1:0);return n===1},Di=(c,s)=>{let n=c.getAttribute("id");return n||(c.setAttribute("id",s),s)},dr=c=>c.replace(/[\\"']/g,"\\$&"),lt=(c,s)=>{s&&c.append(s)};function hr(c,s){var n=Object.assign({},cr,s),a=n.dataAttr,p=n.labelField,g=n.valueField,m=n.disabledField,A=n.optgroupField,O=n.optgroupLabelField,_=n.optgroupValueField,F=c.tagName.toLowerCase(),$=c.getAttribute("placeholder")||c.getAttribute("data-placeholder");if(!$&&!n.allowEmptyOption){let he=c.querySelector('option[value=""]');he&&($=he.textContent)}var z={placeholder:$,options:[],optgroups:[],items:[],maxItems:null},ge=()=>{var he,ve=z.options,ne={},V=1,ae=Q=>{var te=Object.assign({},Q.dataset),Y=a&&te[a];return typeof Y=="string"&&Y.length&&(te=Object.assign(te,JSON.parse(Y))),te},We=(Q,te)=>{var Y=Me(Q.value);if(Y!=null&&!(!Y&&!n.allowEmptyOption)){if(ne.hasOwnProperty(Y)){if(te){var ye=ne[Y][A];ye?Array.isArray(ye)?ye.push(te):ne[Y][A]=[ye,te]:ne[Y][A]=te}}else{var oe=ae(Q);oe[p]=oe[p]||Q.textContent,oe[g]=oe[g]||Y,oe[m]=oe[m]||Q.disabled,oe[A]=oe[A]||te,oe.$option=Q,ne[Y]=oe,ve.push(oe)}Q.selected&&z.items.push(Y)}},yt=Q=>{var te,Y;Y=ae(Q),Y[O]=Y[O]||Q.getAttribute("label")||"",Y[_]=Y[_]||V++,Y[m]=Y[m]||Q.disabled,z.optgroups.push(Y),te=Y[_],Se(Q.children,ye=>{We(ye,te)})};z.maxItems=c.hasAttribute("multiple")?null:1,Se(c.children,Q=>{he=Q.tagName.toLowerCase(),he==="optgroup"?yt(Q):he==="option"&&We(Q)})},D=()=>{let he=c.getAttribute(a);if(he)z.options=JSON.parse(he),Se(z.options,ne=>{z.items.push(ne[g])});else{var ve=c.value.trim()||"";if(!n.allowEmptyOption&&!ve.length)return;let ne=ve.split(n.delimiter);Se(ne,V=>{let ae={};ae[p]=V,ae[g]=V,z.options.push(ae)}),z.items=ne}};return F==="select"?ge():D(),Object.assign({},cr,z,s)}var fr=0;class bt extends t(e){constructor(s,n){super(),this.control_input=void 0,this.wrapper=void 0,this.dropdown=void 0,this.control=void 0,this.dropdown_content=void 0,this.focus_node=void 0,this.order=0,this.settings=void 0,this.input=void 0,this.tabIndex=void 0,this.is_select_tag=void 0,this.rtl=void 0,this.inputId=void 0,this._destroy=void 0,this.sifter=void 0,this.isOpen=!1,this.isDisabled=!1,this.isRequired=void 0,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.currentResults=void 0,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],fr++;var a,p=se(s);if(p.tomselect)throw new Error("Tom Select already initialized on this element");p.tomselect=this;var g=window.getComputedStyle&&window.getComputedStyle(p,null);a=g.getPropertyValue("direction");let m=hr(p,n);this.settings=m,this.input=p,this.tabIndex=p.tabIndex||0,this.is_select_tag=p.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(a),this.inputId=Di(p,"tomselect-"+fr),this.isRequired=p.required,this.sifter=new Je(this.options,{diacritics:m.diacritics}),m.mode=m.mode||(m.maxItems===1?"single":"multi"),typeof m.hideSelected!="boolean"&&(m.hideSelected=m.mode==="multi"),typeof m.hidePlaceholder!="boolean"&&(m.hidePlaceholder=m.mode!=="multi");var A=m.createFilter;typeof A!="function"&&(typeof A=="string"&&(A=new RegExp(A)),A instanceof RegExp?m.createFilter=ve=>A.test(ve):m.createFilter=ve=>this.settings.duplicates||!this.options[ve]),this.initializePlugins(m.plugins),this.setupCallbacks(),this.setupTemplates();let O=se("<div>"),_=se("<div>"),F=this._render("dropdown"),$=se('<div role="listbox" tabindex="-1">'),z=this.input.getAttribute("class")||"",ge=m.mode;var D;if(ee(O,m.wrapperClass,z,ge),ee(_,m.controlClass),lt(O,_),ee(F,m.dropdownClass,ge),m.copyClassesToDropdown&&ee(F,z),ee($,m.dropdownContentClass),lt(F,$),se(m.dropdownParent||O).appendChild(F),Be(m.controlInput)){D=se(m.controlInput);var he=["autocorrect","autocapitalize","autocomplete"];ce(he,ve=>{p.getAttribute(ve)&&J(D,{[ve]:p.getAttribute(ve)})}),D.tabIndex=-1,_.appendChild(D),this.focus_node=D}else m.controlInput?(D=se(m.controlInput),this.focus_node=D):(D=se("<input/>"),this.focus_node=_);this.wrapper=O,this.dropdown=F,this.dropdown_content=$,this.control=_,this.control_input=D,this.setup()}setup(){let s=this,n=s.settings,a=s.control_input,p=s.dropdown,g=s.dropdown_content,m=s.wrapper,A=s.control,O=s.input,_=s.focus_node,F={passive:!0},$=s.inputId+"-ts-dropdown";J(g,{id:$}),J(_,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":$});let z=Di(_,s.inputId+"-ts-control"),ge="label[for='"+Ze(s.inputId)+"']",D=document.querySelector(ge),he=s.focus.bind(s);if(D){me(D,"click",he),J(D,{for:z});let V=Di(D,s.inputId+"-ts-label");J(_,{"aria-labelledby":V}),J(g,{"aria-labelledby":V})}if(m.style.width=O.style.width,s.plugins.names.length){let V="plugin-"+s.plugins.names.join(" plugin-");ee([m,p],V)}(n.maxItems===null||n.maxItems>1)&&s.is_select_tag&&J(O,{multiple:"multiple"}),n.placeholder&&J(a,{placeholder:n.placeholder}),!n.splitOn&&n.delimiter&&(n.splitOn=new RegExp("\\s*"+b(n.delimiter)+"+\\s*")),n.load&&n.loadThrottle&&(n.load=Cn(n.load,n.loadThrottle)),s.control_input.type=O.type,me(p,"mousemove",()=>{s.ignoreHover=!1}),me(p,"mouseenter",V=>{var ae=de(V.target,"[data-selectable]",p);ae&&s.onOptionHover(V,ae)},{capture:!0}),me(p,"click",V=>{let ae=de(V.target,"[data-selectable]");ae&&(s.onOptionSelect(V,ae),re(V,!0))}),me(A,"click",V=>{var ae=de(V.target,"[data-ts-item]",A);if(ae&&s.onItemSelect(V,ae)){re(V,!0);return}a.value==""&&(s.onClick(),re(V,!0))}),me(_,"keydown",V=>s.onKeyDown(V)),me(a,"keypress",V=>s.onKeyPress(V)),me(a,"input",V=>s.onInput(V)),me(_,"blur",V=>s.onBlur(V)),me(_,"focus",V=>s.onFocus(V)),me(a,"paste",V=>s.onPaste(V));let ve=V=>{let ae=V.composedPath()[0];if(!m.contains(ae)&&!p.contains(ae)){s.isFocused&&s.blur(),s.inputState();return}ae==a&&s.isOpen?V.stopPropagation():re(V,!0)},ne=()=>{s.isOpen&&s.positionDropdown()};me(document,"mousedown",ve),me(window,"scroll",ne,F),me(window,"resize",ne,F),this._destroy=()=>{document.removeEventListener("mousedown",ve),window.removeEventListener("scroll",ne),window.removeEventListener("resize",ne),D&&D.removeEventListener("click",he)},this.revertSettings={innerHTML:O.innerHTML,tabIndex:O.tabIndex},O.tabIndex=-1,O.insertAdjacentElement("afterend",s.wrapper),s.sync(!1),n.items=[],delete n.optgroups,delete n.options,me(O,"invalid",()=>{s.isValid&&(s.isValid=!1,s.isInvalid=!0,s.refreshState())}),s.updateOriginalInput(),s.refreshItems(),s.close(!1),s.inputState(),s.isSetup=!0,O.disabled?s.disable():s.enable(),s.on("change",this.onChange),ee(O,"tomselected","ts-hidden-accessible"),s.trigger("initialize"),n.preload===!0&&s.preload()}setupOptions(s=[],n=[]){this.addOptions(s),ce(n,a=>{this.registerOptionGroup(a)})}setupTemplates(){var s=this,n=s.settings.labelField,a=s.settings.optgroupLabelField,p={optgroup:g=>{let m=document.createElement("div");return m.className="optgroup",m.appendChild(g.options),m},optgroup_header:(g,m)=>'<div class="optgroup-header">'+m(g[a])+"</div>",option:(g,m)=>"<div>"+m(g[n])+"</div>",item:(g,m)=>"<div>"+m(g[n])+"</div>",option_create:(g,m)=>'<div class="create">Add <strong>'+m(g.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};s.settings.render=Object.assign({},p,s.settings.render)}setupCallbacks(){var s,n,a={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(s in a)n=this.settings[a[s]],n&&this.on(s,n)}sync(s=!0){let n=this,a=s?hr(n.input,{delimiter:n.settings.delimiter}):n.settings;n.setupOptions(a.options,a.optgroups),n.setValue(a.items||[],!0),n.lastQuery=null}onClick(){var s=this;if(s.activeItems.length>0){s.clearActiveItems(),s.focus();return}s.isFocused&&s.isOpen?s.blur():s.focus()}onMouseDown(){}onChange(){Le(this.input,"input"),Le(this.input,"change")}onPaste(s){var n=this;if(n.isInputHidden||n.isLocked){re(s);return}!n.settings.splitOn||setTimeout(()=>{var a=n.inputValue();if(!!a.match(n.settings.splitOn)){var p=a.trim().split(n.settings.splitOn);ce(p,g=>{Me(g)&&(this.options[g]?n.addItem(g):n.createItem(g))})}},0)}onKeyPress(s){var n=this;if(n.isLocked){re(s);return}var a=String.fromCharCode(s.keyCode||s.which);if(n.settings.create&&n.settings.mode==="multi"&&a===n.settings.delimiter){n.createItem(),re(s);return}}onKeyDown(s){var n=this;if(n.ignoreHover=!0,n.isLocked){s.keyCode!==Fi&&re(s);return}switch(s.keyCode){case Zt:if(at(ni,s)&&n.control_input.value==""){re(s),n.selectAll();return}break;case vt:n.isOpen&&(re(s,!0),n.close()),n.clearActiveItems();return;case ri:if(!n.isOpen&&n.hasOptions)n.open();else if(n.activeOption){let a=n.getAdjacent(n.activeOption,1);a&&n.setActiveOption(a)}re(s);return;case ii:if(n.activeOption){let a=n.getAdjacent(n.activeOption,-1);a&&n.setActiveOption(a)}re(s);return;case ei:n.canSelect(n.activeOption)?(n.onOptionSelect(s,n.activeOption),re(s)):(n.settings.create&&n.createItem()||document.activeElement==n.control_input&&n.isOpen)&&re(s);return;case ti:n.advanceSelection(-1,s);return;case si:n.advanceSelection(1,s);return;case Fi:n.settings.selectOnTab&&(n.canSelect(n.activeOption)&&(n.onOptionSelect(s,n.activeOption),re(s)),n.settings.create&&n.createItem()&&re(s));return;case lr:case _n:n.deleteSelection(s);return}n.isInputHidden&&!at(ni,s)&&re(s)}onInput(s){var n=this;if(!n.isLocked){var a=n.inputValue();n.lastValue!==a&&(n.lastValue=a,n.settings.shouldLoad.call(n,a)&&n.load(a),n.refreshOptions(),n.trigger("type",a))}}onOptionHover(s,n){this.ignoreHover||this.setActiveOption(n,!1)}onFocus(s){var n=this,a=n.isFocused;if(n.isDisabled){n.blur(),re(s);return}n.ignoreFocus||(n.isFocused=!0,n.settings.preload==="focus"&&n.preload(),a||n.trigger("focus"),n.activeItems.length||(n.showInput(),n.refreshOptions(!!n.settings.openOnFocus)),n.refreshState())}onBlur(s){if(document.hasFocus()!==!1){var n=this;if(!!n.isFocused){n.isFocused=!1,n.ignoreFocus=!1;var a=()=>{n.close(),n.setActiveItem(),n.setCaret(n.items.length),n.trigger("blur")};n.settings.create&&n.settings.createOnBlur?n.createItem(null,a):a()}}}onOptionSelect(s,n){var a,p=this;n.parentElement&&n.parentElement.matches("[data-disabled]")||(n.classList.contains("create")?p.createItem(null,()=>{p.settings.closeAfterSelect&&p.close()}):(a=n.dataset.value,typeof a<"u"&&(p.lastQuery=null,p.addItem(a),p.settings.closeAfterSelect&&p.close(),!p.settings.hideSelected&&s.type&&/click/.test(s.type)&&p.setActiveOption(n))))}canSelect(s){return!!(this.isOpen&&s&&this.dropdown_content.contains(s))}onItemSelect(s,n){var a=this;return!a.isLocked&&a.settings.mode==="multi"?(re(s),a.setActiveItem(n,s),!0):!1}canLoad(s){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(s))}load(s){let n=this;if(!n.canLoad(s))return;ee(n.wrapper,n.settings.loadingClass),n.loading++;let a=n.loadCallback.bind(n);n.settings.load.call(n,s,a)}loadCallback(s,n){let a=this;a.loading=Math.max(a.loading-1,0),a.lastQuery=null,a.clearActiveOption(),a.setupOptions(s,n),a.refreshOptions(a.isFocused&&!a.isInputHidden),a.loading||ue(a.wrapper,a.settings.loadingClass),a.trigger("load",s,n)}preload(){var s=this.wrapper.classList;s.contains("preloaded")||(s.add("preloaded"),this.load(""))}setTextboxValue(s=""){var n=this.control_input,a=n.value!==s;a&&(n.value=s,Le(n,"update"),this.lastValue=s)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(s,n){var a=n?[]:["change"];ur(this,a,()=>{this.clear(n),this.addItems(s,n)})}setMaxItems(s){s===0&&(s=null),this.settings.maxItems=s,this.refreshState()}setActiveItem(s,n){var a=this,p,g,m,A,O,_;if(a.settings.mode!=="single"){if(!s){a.clearActiveItems(),a.isFocused&&a.showInput();return}if(p=n&&n.type.toLowerCase(),p==="click"&&at("shiftKey",n)&&a.activeItems.length){for(_=a.getLastActive(),m=Array.prototype.indexOf.call(a.control.children,_),A=Array.prototype.indexOf.call(a.control.children,s),m>A&&(O=m,m=A,A=O),g=m;g<=A;g++)s=a.control.children[g],a.activeItems.indexOf(s)===-1&&a.setActiveItemClass(s);re(n)}else p==="click"&&at(ni,n)||p==="keydown"&&at("shiftKey",n)?s.classList.contains("active")?a.removeActiveItem(s):a.setActiveItemClass(s):(a.clearActiveItems(),a.setActiveItemClass(s));a.hideInput(),a.isFocused||a.focus()}}setActiveItemClass(s){let n=this,a=n.control.querySelector(".last-active");a&&ue(a,"last-active"),ee(s,"active last-active"),n.trigger("item_select",s),n.activeItems.indexOf(s)==-1&&n.activeItems.push(s)}removeActiveItem(s){var n=this.activeItems.indexOf(s);this.activeItems.splice(n,1),ue(s,"active")}clearActiveItems(){ue(this.activeItems,"active"),this.activeItems=[]}setActiveOption(s,n=!0){s!==this.activeOption&&(this.clearActiveOption(),s&&(this.activeOption=s,J(this.focus_node,{"aria-activedescendant":s.getAttribute("id")}),J(s,{"aria-selected":"true"}),ee(s,"active"),n&&this.scrollToOption(s)))}scrollToOption(s,n){if(!s)return;let a=this.dropdown_content,p=a.clientHeight,g=a.scrollTop||0,m=s.offsetHeight,A=s.getBoundingClientRect().top-a.getBoundingClientRect().top+g;A+m>p+g?this.scroll(A-p+m,n):A<g&&this.scroll(A,n)}scroll(s,n){let a=this.dropdown_content;n&&(a.style.scrollBehavior=n),a.scrollTop=s,a.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(ue(this.activeOption,"active"),J(this.activeOption,{"aria-selected":null})),this.activeOption=null,J(this.focus_node,{"aria-activedescendant":null})}selectAll(){let s=this;if(s.settings.mode==="single")return;let n=s.controlChildren();!n.length||(s.hideInput(),s.close(),s.activeItems=n,ce(n,a=>{s.setActiveItemClass(a)}))}inputState(){var s=this;!s.control.contains(s.control_input)||(J(s.control_input,{placeholder:s.settings.placeholder}),s.activeItems.length>0||!s.isFocused&&s.settings.hidePlaceholder&&s.items.length>0?(s.setTextboxValue(),s.isInputHidden=!0):(s.settings.hidePlaceholder&&s.items.length>0&&J(s.control_input,{placeholder:""}),s.isInputHidden=!1),s.wrapper.classList.toggle("input-hidden",s.isInputHidden))}hideInput(){this.inputState()}showInput(){this.inputState()}inputValue(){return this.control_input.value.trim()}focus(){var s=this;s.isDisabled||(s.ignoreFocus=!0,s.control_input.offsetWidth?s.control_input.focus():s.focus_node.focus(),setTimeout(()=>{s.ignoreFocus=!1,s.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(s){return this.sifter.getScoreFunction(s,this.getSearchOptions())}getSearchOptions(){var s=this.settings,n=s.sortField;return typeof s.sortField=="string"&&(n=[{field:s.sortField}]),{fields:s.searchField,conjunction:s.searchConjunction,sort:n,nesting:s.nesting}}search(s){var n,a,p=this,g=this.getSearchOptions();if(p.settings.score&&(a=p.settings.score.call(p,s),typeof a!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return s!==p.lastQuery?(p.lastQuery=s,n=p.sifter.search(s,Object.assign(g,{score:a})),p.currentResults=n):n=Object.assign({},p.currentResults),p.settings.hideSelected&&(n.items=n.items.filter(m=>{let A=Me(m.id);return!(A&&p.items.indexOf(A)!==-1)})),n}refreshOptions(s=!0){var n,a,p,g,m,A,O,_,F,$;let z={},ge=[];var D=this,he=D.inputValue();let ve=he===D.lastQuery||he==""&&D.lastQuery==null;var ne=D.search(he),V=null,ae=D.settings.shouldOpen||!1,We=D.dropdown_content;for(ve&&(V=D.activeOption,V&&(F=V.closest("[data-group]"))),g=ne.items.length,typeof D.settings.maxOptions=="number"&&(g=Math.min(g,D.settings.maxOptions)),g>0&&(ae=!0),n=0;n<g;n++){let Q=ne.items[n];if(!Q)continue;let te=Q.id,Y=D.options[te];if(Y===void 0)continue;let ye=oi(te),oe=D.getOption(ye,!0);for(D.settings.hideSelected||oe.classList.toggle("selected",D.items.includes(ye)),m=Y[D.settings.optgroupField]||"",A=Array.isArray(m)?m:[m],a=0,p=A&&A.length;a<p;a++){m=A[a],D.optgroups.hasOwnProperty(m)||(m="");let et=z[m];et===void 0&&(et=document.createDocumentFragment(),ge.push(m)),a>0&&(oe=oe.cloneNode(!0),J(oe,{id:Y.$id+"-clone-"+a,"aria-selected":null}),oe.classList.add("ts-cloned"),ue(oe,"active"),D.activeOption&&D.activeOption.dataset.value==te&&F&&F.dataset.group===m.toString()&&(V=oe)),et.appendChild(oe),z[m]=et}}D.settings.lockOptgroupOrder&&ge.sort((Q,te)=>{let Y=D.optgroups[Q],ye=D.optgroups[te],oe=Y&&Y.$order||0,et=ye&&ye.$order||0;return oe-et}),O=document.createDocumentFragment(),ce(ge,Q=>{let te=z[Q];if(!te||!te.children.length)return;let Y=D.optgroups[Q];if(Y!==void 0){let ye=document.createDocumentFragment(),oe=D.render("optgroup_header",Y);lt(ye,oe),lt(ye,te);let et=D.render("optgroup",{group:Y,options:ye});lt(O,et)}else lt(O,te)}),We.innerHTML="",lt(We,O),D.settings.highlight&&(gt(We),ne.query.length&&ne.tokens.length&&ce(ne.tokens,Q=>{Ye(We,Q.regex)}));var yt=Q=>{let te=D.render(Q,{input:he});return te&&(ae=!0,We.insertBefore(te,We.firstChild)),te};if(D.loading?yt("loading"):D.settings.shouldLoad.call(D,he)?ne.items.length===0&&yt("no_results"):yt("not_loading"),_=D.canCreate(he),_&&($=yt("option_create")),D.hasOptions=ne.items.length>0||_,ae){if(ne.items.length>0){if(!V&&D.settings.mode==="single"&&D.items[0]!=null&&(V=D.getOption(D.items[0])),!We.contains(V)){let Q=0;$&&!D.settings.addPrecedence&&(Q=1),V=D.selectable()[Q]}}else $&&(V=$);s&&!D.isOpen&&(D.open(),D.scrollToOption(V,"auto")),D.setActiveOption(V)}else D.clearActiveOption(),s&&D.isOpen&&D.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(s,n=!1){let a=this;if(Array.isArray(s))return a.addOptions(s,n),!1;let p=Me(s[a.settings.valueField]);return p===null||a.options.hasOwnProperty(p)?!1:(s.$order=s.$order||++a.order,s.$id=a.inputId+"-opt-"+s.$order,a.options[p]=s,a.lastQuery=null,n&&(a.userOptions[p]=n,a.trigger("option_add",p,s)),p)}addOptions(s,n=!1){ce(s,a=>{this.addOption(a,n)})}registerOption(s){return this.addOption(s)}registerOptionGroup(s){var n=Me(s[this.settings.optgroupValueField]);return n===null?!1:(s.$order=s.$order||++this.order,this.optgroups[n]=s,n)}addOptionGroup(s,n){var a;n[this.settings.optgroupValueField]=s,(a=this.registerOptionGroup(n))&&this.trigger("optgroup_add",a,n)}removeOptionGroup(s){this.optgroups.hasOwnProperty(s)&&(delete this.optgroups[s],this.clearCache(),this.trigger("optgroup_remove",s))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(s,n){let a=this;var p,g;let m=Me(s),A=Me(n[a.settings.valueField]);if(m===null)return;let O=a.options[m];if(O==null)return;if(typeof A!="string")throw new Error("Value must be set in option data");let _=a.getOption(m),F=a.getItem(m);if(n.$order=n.$order||O.$order,delete a.options[m],a.uncacheValue(A),a.options[A]=n,_){if(a.dropdown_content.contains(_)){let $=a._render("option",n);It(_,$),a.activeOption===_&&a.setActiveOption($)}_.remove()}F&&(g=a.items.indexOf(m),g!==-1&&a.items.splice(g,1,A),p=a._render("item",n),F.classList.contains("active")&&ee(p,"active"),It(F,p)),a.lastQuery=null}removeOption(s,n){let a=this;s=oi(s),a.uncacheValue(s),delete a.userOptions[s],delete a.options[s],a.lastQuery=null,a.trigger("option_remove",s),a.removeItem(s,n)}clearOptions(s){let n=(s||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();let a={};ce(this.options,(p,g)=>{n(p,g)&&(a[g]=p)}),this.options=this.sifter.items=a,this.lastQuery=null,this.trigger("option_clear")}clearFilter(s,n){return this.items.indexOf(n)>=0}getOption(s,n=!1){let a=Me(s);if(a===null)return null;let p=this.options[a];if(p!=null){if(p.$div)return p.$div;if(n)return this._render("option",p)}return null}getAdjacent(s,n,a="option"){var p=this,g;if(!s)return null;a=="item"?g=p.controlChildren():g=p.dropdown_content.querySelectorAll("[data-selectable]");for(let m=0;m<g.length;m++)if(g[m]==s)return n>0?g[m+1]:g[m-1];return null}getItem(s){if(typeof s=="object")return s;var n=Me(s);return n!==null?this.control.querySelector(`[data-value="${dr(n)}"]`):null}addItems(s,n){var a=this,p=Array.isArray(s)?s:[s];p=p.filter(m=>a.items.indexOf(m)===-1);let g=p[p.length-1];p.forEach(m=>{a.isPending=m!==g,a.addItem(m,n)})}addItem(s,n){var a=n?[]:["change","dropdown_close"];ur(this,a,()=>{var p,g;let m=this,A=m.settings.mode,O=Me(s);if(!(O&&m.items.indexOf(O)!==-1&&(A==="single"&&m.close(),A==="single"||!m.settings.duplicates))&&!(O===null||!m.options.hasOwnProperty(O))&&(A==="single"&&m.clear(n),!(A==="multi"&&m.isFull()))){if(p=m._render("item",m.options[O]),m.control.contains(p)&&(p=p.cloneNode(!0)),g=m.isFull(),m.items.splice(m.caretPos,0,O),m.insertAtCaret(p),m.isSetup){if(!m.isPending&&m.settings.hideSelected){let _=m.getOption(O),F=m.getAdjacent(_,1);F&&m.setActiveOption(F)}!m.isPending&&!m.settings.closeAfterSelect&&m.refreshOptions(m.isFocused&&A!=="single"),m.settings.closeAfterSelect!=!1&&m.isFull()?m.close():m.isPending||m.positionDropdown(),m.trigger("item_add",O,p),m.isPending||m.updateOriginalInput({silent:n})}(!m.isPending||!g&&m.isFull())&&(m.inputState(),m.refreshState())}})}removeItem(s=null,n){let a=this;if(s=a.getItem(s),!s)return;var p,g;let m=s.dataset.value;p=Ae(s),s.remove(),s.classList.contains("active")&&(g=a.activeItems.indexOf(s),a.activeItems.splice(g,1),ue(s,"active")),a.items.splice(p,1),a.lastQuery=null,!a.settings.persist&&a.userOptions.hasOwnProperty(m)&&a.removeOption(m,n),p<a.caretPos&&a.setCaret(a.caretPos-1),a.updateOriginalInput({silent:n}),a.refreshState(),a.positionDropdown(),a.trigger("item_remove",m,s)}createItem(s=null,n=()=>{}){arguments.length===3&&(n=arguments[2]),typeof n!="function"&&(n=()=>{});var a=this,p=a.caretPos,g;if(s=s||a.inputValue(),!a.canCreate(s))return n(),!1;a.lock();var m=!1,A=O=>{if(a.unlock(),!O||typeof O!="object")return n();var _=Me(O[a.settings.valueField]);if(typeof _!="string")return n();a.setTextboxValue(),a.addOption(O,!0),a.setCaret(p),a.addItem(_),n(O),m=!0};return typeof a.settings.create=="function"?g=a.settings.create.call(this,s,A):g={[a.settings.labelField]:s,[a.settings.valueField]:s},m||A(g),!0}refreshItems(){var s=this;s.lastQuery=null,s.isSetup&&s.addItems(s.items),s.updateOriginalInput(),s.refreshState()}refreshState(){let s=this;s.refreshValidityState();let n=s.isFull(),a=s.isLocked;s.wrapper.classList.toggle("rtl",s.rtl);let p=s.wrapper.classList;p.toggle("focus",s.isFocused),p.toggle("disabled",s.isDisabled),p.toggle("required",s.isRequired),p.toggle("invalid",!s.isValid),p.toggle("locked",a),p.toggle("full",n),p.toggle("input-active",s.isFocused&&!s.isInputHidden),p.toggle("dropdown-active",s.isOpen),p.toggle("has-options",Ve(s.options)),p.toggle("has-items",s.items.length>0)}refreshValidityState(){var s=this;!s.input.validity||(s.isValid=s.input.validity.valid,s.isInvalid=!s.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(s={}){let n=this;var a,p;let g=n.input.querySelector('option[value=""]');if(n.is_select_tag){let O=function(_,F,$){return _||(_=se('<option value="'+ai(F)+'">'+ai($)+"</option>")),_!=g&&n.input.append(_),m.push(_),(_!=g||A>0)&&(_.selected=!0),_},m=[],A=n.input.querySelectorAll("option:checked").length;n.input.querySelectorAll("option:checked").forEach(_=>{_.selected=!1}),n.items.length==0&&n.settings.mode=="single"?O(g,"",""):n.items.forEach(_=>{if(a=n.options[_],p=a[n.settings.labelField]||"",m.includes(a.$option)){let F=n.input.querySelector(`option[value="${dr(_)}"]:not(:checked)`);O(F,_,p)}else a.$option=O(a.$option,_,p)})}else n.input.value=n.getValue();n.isSetup&&(s.silent||n.trigger("change",n.getValue()))}open(){var s=this;s.isLocked||s.isOpen||s.settings.mode==="multi"&&s.isFull()||(s.isOpen=!0,J(s.focus_node,{"aria-expanded":"true"}),s.refreshState(),$e(s.dropdown,{visibility:"hidden",display:"block"}),s.positionDropdown(),$e(s.dropdown,{visibility:"visible",display:"block"}),s.focus(),s.trigger("dropdown_open",s.dropdown))}close(s=!0){var n=this,a=n.isOpen;s&&(n.setTextboxValue(),n.settings.mode==="single"&&n.items.length&&n.hideInput()),n.isOpen=!1,J(n.focus_node,{"aria-expanded":"false"}),$e(n.dropdown,{display:"none"}),n.settings.hideSelected&&n.clearActiveOption(),n.refreshState(),a&&n.trigger("dropdown_close",n.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var s=this.control,n=s.getBoundingClientRect(),a=s.offsetHeight+n.top+window.scrollY,p=n.left+window.scrollX;$e(this.dropdown,{width:n.width+"px",top:a+"px",left:p+"px"})}}clear(s){var n=this;if(!!n.items.length){var a=n.controlChildren();ce(a,p=>{n.removeItem(p,!0)}),n.showInput(),s||n.updateOriginalInput(),n.trigger("clear")}}insertAtCaret(s){let n=this,a=n.caretPos,p=n.control;p.insertBefore(s,p.children[a]||null),n.setCaret(a+1)}deleteSelection(s){var n,a,p,g,m=this;n=s&&s.keyCode===lr?-1:1,a=Tn(m.control_input);let A=[];if(m.activeItems.length)g=pe(m.activeItems,n),p=Ae(g),n>0&&p++,ce(m.activeItems,O=>A.push(O));else if((m.isFocused||m.settings.mode==="single")&&m.items.length){let O=m.controlChildren(),_;n<0&&a.start===0&&a.length===0?_=O[m.caretPos-1]:n>0&&a.start===m.inputValue().length&&(_=O[m.caretPos]),_!==void 0&&A.push(_)}if(!m.shouldDelete(A,s))return!1;for(re(s,!0),typeof p<"u"&&m.setCaret(p);A.length;)m.removeItem(A.pop());return m.showInput(),m.positionDropdown(),m.refreshOptions(!1),!0}shouldDelete(s,n){let a=s.map(p=>p.dataset.value);return!(!a.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(a,n)===!1)}advanceSelection(s,n){var a,p,g=this;g.rtl&&(s*=-1),!g.inputValue().length&&(at(ni,n)||at("shiftKey",n)?(a=g.getLastActive(s),a?a.classList.contains("active")?p=g.getAdjacent(a,s,"item"):p=a:s>0?p=g.control_input.nextElementSibling:p=g.control_input.previousElementSibling,p&&(p.classList.contains("active")&&g.removeActiveItem(a),g.setActiveItemClass(p))):g.moveCaret(s))}moveCaret(s){}getLastActive(s){let n=this.control.querySelector(".last-active");if(n)return n;var a=this.control.querySelectorAll(".active");if(a)return pe(a,s)}setCaret(s){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.isLocked=!0,this.refreshState()}unlock(){this.isLocked=!1,this.refreshState()}disable(){var s=this;s.input.disabled=!0,s.control_input.disabled=!0,s.focus_node.tabIndex=-1,s.isDisabled=!0,this.close(),s.lock()}enable(){var s=this;s.input.disabled=!1,s.control_input.disabled=!1,s.focus_node.tabIndex=s.tabIndex,s.isDisabled=!1,s.unlock()}destroy(){var s=this,n=s.revertSettings;s.trigger("destroy"),s.off(),s.wrapper.remove(),s.dropdown.remove(),s.input.innerHTML=n.innerHTML,s.input.tabIndex=n.tabIndex,ue(s.input,"tomselected","ts-hidden-accessible"),s._destroy(),delete s.input.tomselect}render(s,n){var a,p;let g=this;if(typeof this.settings.render[s]!="function"||(p=g.settings.render[s].call(this,n,ai),!p))return null;if(p=se(p),s==="option"||s==="option_create"?n[g.settings.disabledField]?J(p,{"aria-disabled":"true"}):J(p,{"data-selectable":""}):s==="optgroup"&&(a=n.group[g.settings.optgroupValueField],J(p,{"data-group":a}),n.group[g.settings.disabledField]&&J(p,{"data-disabled":""})),s==="option"||s==="item"){let m=oi(n[g.settings.valueField]);J(p,{"data-value":m}),s==="item"?(ee(p,g.settings.itemClass),J(p,{"data-ts-item":""})):(ee(p,g.settings.optionClass),J(p,{role:"option",id:n.$id}),n.$div=p,g.options[m]=n)}return p}_render(s,n){let a=this.render(s,n);if(a==null)throw"HTMLElement expected";return a}clearCache(){ce(this.options,s=>{s.$div&&(s.$div.remove(),delete s.$div)})}uncacheValue(s){let n=this.getOption(s);n&&n.remove()}canCreate(s){return this.settings.create&&s.length>0&&this.settings.createFilter.call(this,s)}hook(s,n,a){var p=this,g=p[n];p[n]=function(){var m,A;return s==="after"&&(m=g.apply(p,arguments)),A=a.apply(p,arguments),s==="instead"?A:(s==="before"&&(m=g.apply(p,arguments)),m)}}}function Ln(){var c=this;c.hook("instead","setCaret",s=>{c.settings.mode==="single"||!c.control.contains(c.control_input)?s=c.items.length:(s=Math.max(0,Math.min(c.items.length,s)),s!=c.caretPos&&!c.isPending&&c.controlChildren().forEach((n,a)=>{a<s?c.control_input.insertAdjacentElement("beforebegin",n):c.control.appendChild(n)})),c.caretPos=s}),c.hook("instead","moveCaret",s=>{if(!c.isFocused)return;let n=c.getLastActive(s);if(n){let a=Ae(n);c.setCaret(s>0?a+1:a),c.setActiveItem(),ue(n,"last-active")}else c.setCaret(c.caretPos+s)})}function On(){let c=this;c.settings.shouldOpen=!0,c.hook("before","setup",()=>{c.focus_node=c.control,ee(c.control_input,"dropdown-input");let s=se('<div class="dropdown-input-wrap">');s.append(c.control_input),c.dropdown.insertBefore(s,c.dropdown.firstChild);let n=se('<input class="items-placeholder" tabindex="-1" />');n.placeholder=c.settings.placeholder||"",c.control.append(n)}),c.on("initialize",()=>{c.control_input.addEventListener("keydown",n=>{switch(n.keyCode){case vt:c.isOpen&&(re(n,!0),c.close()),c.clearActiveItems();return;case Fi:c.focus_node.tabIndex=-1;break}return c.onKeyDown.call(c,n)}),c.on("blur",()=>{c.focus_node.tabIndex=c.isDisabled?-1:c.tabIndex}),c.on("dropdown_open",()=>{c.control_input.focus()});let s=c.onBlur;c.hook("instead","onBlur",n=>{if(!(n&&n.relatedTarget==c.control_input))return s.call(c)}),me(c.control_input,"blur",()=>c.onBlur()),c.hook("before","close",()=>{!c.isOpen||c.focus_node.focus({preventScroll:!0})})})}function Rn(){var c=this,s=c.deleteSelection;this.hook("instead","deleteSelection",n=>c.activeItems.length?s.call(c,n):!1)}function Pn(c){let s=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},c);var n=this;if(!!s.append){var a='<a href="javascript:void(0)" class="'+s.className+'" tabindex="-1" title="'+ai(s.title)+'">'+s.label+"</a>";n.hook("after","setupTemplates",()=>{var p=n.settings.render.item;n.settings.render.item=(g,m)=>{var A=se(p.call(n,g,m)),O=se(a);return A.appendChild(O),me(O,"mousedown",_=>{re(_,!0)}),me(O,"click",_=>{re(_,!0),!n.isLocked&&(!n.shouldDelete([A],_)||(n.removeItem(A),n.refreshOptions(!1),n.inputState()))}),A}})}}function In(c){let s=this,n=Object.assign({text:a=>a[s.settings.labelField]},c);s.on("item_remove",function(a){if(!!s.isFocused&&s.control_input.value.trim()===""){var p=s.options[a];p&&s.setTextboxValue(n.text.call(s,p))}})}return bt.define("caret_position",Ln),bt.define("dropdown_input",On),bt.define("no_backspace_delete",Rn),bt.define("remove_button",Pn),bt.define("restore_on_backspace",In),bt})});(function(){if(window.Reflect===void 0||window.customElements===void 0||window.customElements.polyfillWrapFlushCallback)return;let i=HTMLElement,e={HTMLElement:function(){return Reflect.construct(i,[],this.constructor)}};window.HTMLElement=e.HTMLElement,HTMLElement.prototype=i.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,i)})();(function(i){if(typeof i.requestSubmit=="function")return;i.requestSubmit=function(r){r?(e(r,this),r.click()):(r=document.createElement("input"),r.type="submit",r.hidden=!0,this.appendChild(r),r.click(),this.removeChild(r))};function e(r,o){r instanceof HTMLElement||t(TypeError,"parameter 1 is not of type 'HTMLElement'"),r.type=="submit"||t(TypeError,"The specified element is not a submit button"),r.form==o||t(DOMException,"The specified element is not owned by this form element","NotFoundError")}function t(r,o,u){throw new r("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+o+".",u)}})(HTMLFormElement.prototype);var br=new WeakMap;function Hn(i){let e=i instanceof Element?i:i instanceof Node?i.parentElement:null,t=e?e.closest("input, button"):null;return t?.type=="submit"?t:null}function Bn(i){let e=Hn(i.target);e&&e.form&&br.set(e.form,e)}(function(){if("submitter"in Event.prototype)return;let i=window.Event.prototype;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))i=window.SubmitEvent.prototype;else if("SubmitEvent"in window)return;addEventListener("click",Bn,!0),Object.defineProperty(i,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return br.get(this.target)}})})();var st;(function(i){i.eager="eager",i.lazy="lazy"})(st||(st={}));var Ne=class extends HTMLElement{static get observedAttributes(){return["disabled","complete","loading","src"]}constructor(){super(),this.loaded=Promise.resolve(),this.delegate=new Ne.delegateConstructor(this)}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(e){e=="loading"?this.delegate.loadingStyleChanged():e=="complete"?this.delegate.completeChanged():e=="src"?this.delegate.sourceURLChanged():this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get loading(){return $n(this.getAttribute("loading")||"")}set loading(e){e?this.setAttribute("loading",e):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var e,t;return(t=(e=this.ownerDocument)===null||e===void 0?void 0:e.documentElement)===null||t===void 0?void 0:t.hasAttribute("data-turbo-preview")}};function $n(i){switch(i.toLowerCase()){case"lazy":return st.lazy;default:return st.eager}}function we(i){return new URL(i.toString(),document.baseURI)}function ct(i){let e;if(i.hash)return i.hash.slice(1);if(e=i.href.match(/#(.*)$/))return e[1]}function ls(i,e){let t=e?.getAttribute("formaction")||i.getAttribute("action")||i.action;return we(t)}function Vn(i){return(Kn(i).match(/\.[^.]*$/)||[])[0]||""}function Wn(i){return!!Vn(i).match(/^(?:|\.(?:htm|html|xhtml|php))$/)}function jn(i,e){let t=Yn(e);return i.href===we(t).href||i.href.startsWith(t)}function Et(i,e){return jn(i,e)&&Wn(i)}function qi(i){let e=ct(i);return e!=null?i.href.slice(0,-(e.length+1)):i.href}function li(i){return qi(i)}function Un(i,e){return we(i).href==we(e).href}function zn(i){return i.pathname.split("/").slice(1)}function Kn(i){return zn(i).slice(-1)[0]}function Yn(i){return Gn(i.origin+i.pathname)}function Gn(i){return i.endsWith("/")?i:i+"/"}var xt=class{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return we(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}};function Mt(i){if(i.getAttribute("data-turbo-eval")=="false")return i;{let e=document.createElement("script"),t=di("csp-nonce");return t&&(e.nonce=t),e.textContent=i.textContent,e.async=!1,Qn(e,i),e}}function Qn(i,e){for(let{name:t,value:r}of e.attributes)i.setAttribute(t,r)}function Xn(i){let e=document.createElement("template");return e.innerHTML=i,e.content}function be(i,{target:e,cancelable:t,detail:r}={}){let o=new CustomEvent(i,{cancelable:t,bubbles:!0,composed:!0,detail:r});return e&&e.isConnected?e.dispatchEvent(o):document.documentElement.dispatchEvent(o),o}function ci(){return new Promise(i=>requestAnimationFrame(()=>i()))}function Jn(){return new Promise(i=>setTimeout(()=>i(),0))}function Zn(){return Promise.resolve()}function yr(i=""){return new DOMParser().parseFromString(i,"text/html")}function wr(i,...e){let t=eo(i,e).replace(/^\n/,"").split(`
`),r=t[0].match(/^\s+/),o=r?r[0].length:0;return t.map(u=>u.slice(o)).join(`
`)}function eo(i,e){return i.reduce((t,r,o)=>{let u=e[o]==null?"":e[o];return t+r+u},"")}function St(){return Array.from({length:36}).map((i,e)=>e==8||e==13||e==18||e==23?"-":e==14?"4":e==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function ui(i,...e){for(let t of e.map(r=>r?.getAttribute(i)))if(typeof t=="string")return t;return null}function to(i,...e){return e.some(t=>t&&t.hasAttribute(i))}function Hi(...i){for(let e of i)e.localName=="turbo-frame"&&e.setAttribute("busy",""),e.setAttribute("aria-busy","true")}function Bi(...i){for(let e of i)e.localName=="turbo-frame"&&e.removeAttribute("busy"),e.removeAttribute("aria-busy")}function io(i,e=2e3){return new Promise(t=>{let r=()=>{i.removeEventListener("error",r),i.removeEventListener("load",r),t()};i.addEventListener("load",r,{once:!0}),i.addEventListener("error",r,{once:!0}),setTimeout(t,e)})}function Er(i){switch(i){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function so(i){return i=="advance"||i=="replace"||i=="restore"}function yi(...i){let e=ui("data-turbo-action",...i);return so(e)?e:null}function Sr(i){return document.querySelector(`meta[name="${i}"]`)}function di(i){let e=Sr(i);return e&&e.content}function ro(i,e){let t=Sr(i);return t||(t=document.createElement("meta"),t.setAttribute("name",i),document.head.appendChild(t)),t.setAttribute("content",e),t}function hi(i,e){var t;if(i instanceof Element)return i.closest(e)||hi(i.assignedSlot||((t=i.getRootNode())===null||t===void 0?void 0:t.host),e)}var _e;(function(i){i[i.get=0]="get",i[i.post=1]="post",i[i.put=2]="put",i[i.patch=3]="patch",i[i.delete=4]="delete"})(_e||(_e={}));function no(i){switch(i.toLowerCase()){case"get":return _e.get;case"post":return _e.post;case"put":return _e.put;case"patch":return _e.patch;case"delete":return _e.delete}}var Ft=class{constructor(e,t,r,o=new URLSearchParams,u=null){this.abortController=new AbortController,this.resolveRequestPromise=w=>{},this.delegate=e,this.method=t,this.headers=this.defaultHeaders,this.body=o,this.url=r,this.target=u}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){let{fetchOptions:e}=this;this.delegate.prepareRequest(this),await this.allowRequestToBeIntercepted(e);try{this.delegate.requestStarted(this);let t=await fetch(this.url.href,e);return await this.receive(t)}catch(t){if(t.name!=="AbortError")throw this.willDelegateErrorHandling(t)&&this.delegate.requestErrored(this,t),t}finally{this.delegate.requestFinished(this)}}async receive(e){let t=new xt(e);return be("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:t},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,t):t.succeeded?this.delegate.requestSucceededWithResponse(this,t):this.delegate.requestFailedWithResponse(this,t),t}get fetchOptions(){var e;return{method:_e[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.isSafe?null:this.body,signal:this.abortSignal,referrer:(e=this.delegate.referrer)===null||e===void 0?void 0:e.href}}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return this.method===_e.get}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}async allowRequestToBeIntercepted(e){let t=new Promise(o=>this.resolveRequestPromise=o);be("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:this.resolveRequestPromise},target:this.target}).defaultPrevented&&await t}willDelegateErrorHandling(e){return!be("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented}},$i=class{constructor(e,t){this.started=!1,this.intersect=r=>{let o=r.slice(-1)[0];o?.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)},this.delegate=e,this.element=t,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}},Qe=class{static wrap(e){return typeof e=="string"?new this(Xn(e)):e}constructor(e){this.fragment=oo(e)}};Qe.contentType="text/vnd.turbo-stream.html";function oo(i){for(let e of i.querySelectorAll("turbo-stream")){let t=document.importNode(e,!0);for(let r of t.templateElement.content.querySelectorAll("script"))r.replaceWith(Mt(r));e.replaceWith(t)}return i}var tt;(function(i){i[i.initialized=0]="initialized",i[i.requesting=1]="requesting",i[i.waiting=2]="waiting",i[i.receiving=3]="receiving",i[i.stopping=4]="stopping",i[i.stopped=5]="stopped"})(tt||(tt={}));var it;(function(i){i.urlEncoded="application/x-www-form-urlencoded",i.multipart="multipart/form-data",i.plain="text/plain"})(it||(it={}));function ao(i){switch(i.toLowerCase()){case it.multipart:return it.multipart;case it.plain:return it.plain;default:return it.urlEncoded}}var ut=class{static confirmMethod(e,t,r){return Promise.resolve(confirm(e))}constructor(e,t,r,o=!1){this.state=tt.initialized,this.delegate=e,this.formElement=t,this.submitter=r,this.formData=lo(t,r),this.location=we(this.action),this.method==_e.get&&ho(this.location,[...this.body.entries()]),this.fetchRequest=new Ft(this,this.method,this.location,this.body,this.formElement),this.mustRedirect=o}get method(){var e;let t=((e=this.submitter)===null||e===void 0?void 0:e.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"";return no(t.toLowerCase())||_e.get}get action(){var e;let t=typeof this.formElement.action=="string"?this.formElement.action:null;return!((e=this.submitter)===null||e===void 0)&&e.hasAttribute("formaction")?this.submitter.getAttribute("formaction")||"":this.formElement.getAttribute("action")||t||""}get body(){return this.enctype==it.urlEncoded||this.method==_e.get?new URLSearchParams(this.stringFormData):this.formData}get enctype(){var e;return ao(((e=this.submitter)===null||e===void 0?void 0:e.getAttribute("formenctype"))||this.formElement.enctype)}get isSafe(){return this.fetchRequest.isSafe}get stringFormData(){return[...this.formData].reduce((e,[t,r])=>e.concat(typeof r=="string"?[[t,r]]:[]),[])}async start(){let{initialized:e,requesting:t}=tt,r=ui("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof r=="string"&&!await ut.confirmMethod(r,this.formElement,this.submitter))&&this.state==e)return this.state=t,this.fetchRequest.perform()}stop(){let{stopping:e,stopped:t}=tt;if(this.state!=e&&this.state!=t)return this.state=e,this.fetchRequest.cancel(),!0}prepareRequest(e){if(!e.isSafe){let t=co(di("csrf-param"))||di("csrf-token");t&&(e.headers["X-CSRF-Token"]=t)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType(Qe.contentType)}requestStarted(e){var t;this.state=tt.waiting,(t=this.submitter)===null||t===void 0||t.setAttribute("disabled",""),this.setSubmitsWith(),be("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,t){this.result={success:t.succeeded,fetchResponse:t}}requestSucceededWithResponse(e,t){if(t.clientError||t.serverError)this.delegate.formSubmissionFailedWithResponse(this,t);else if(this.requestMustRedirect(e)&&uo(t)){let r=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,r)}else this.state=tt.receiving,this.result={success:!0,fetchResponse:t},this.delegate.formSubmissionSucceededWithResponse(this,t)}requestFailedWithResponse(e,t){this.result={success:!1,fetchResponse:t},this.delegate.formSubmissionFailedWithResponse(this,t)}requestErrored(e,t){this.result={success:!1,error:t},this.delegate.formSubmissionErrored(this,t)}requestFinished(e){var t;this.state=tt.stopped,(t=this.submitter)===null||t===void 0||t.removeAttribute("disabled"),this.resetSubmitterText(),be("turbo:submit-end",{target:this.formElement,detail:Object.assign({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){let e=this.submitter;this.originalSubmitText=e.value,e.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){let e=this.submitter;e.value=this.originalSubmitText}}}requestMustRedirect(e){return!e.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isSafe||to("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){var e;return(e=this.submitter)===null||e===void 0?void 0:e.getAttribute("data-turbo-submits-with")}};function lo(i,e){let t=new FormData(i),r=e?.getAttribute("name"),o=e?.getAttribute("value");return r&&t.append(r,o||""),t}function co(i){if(i!=null){let t=(document.cookie?document.cookie.split("; "):[]).find(r=>r.startsWith(i));if(t){let r=t.split("=").slice(1).join("=");return r?decodeURIComponent(r):void 0}}}function uo(i){return i.statusCode==200&&!i.redirected}function ho(i,e){let t=new URLSearchParams;for(let[r,o]of e)o instanceof File||t.append(r,o);return i.search=t.toString(),i}var At=class{constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(e){return this.getElementForAnchor(e)!=null}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){let e="[inert], :disabled, [hidden], details:not([open]), dialog:not([open])";for(let t of this.element.querySelectorAll("[autofocus]"))if(t.closest(e)==null)return t;return null}get permanentElements(){return _r(this.element)}getPermanentElementById(e){return Ar(this.element,e)}getPermanentElementMapForSnapshot(e){let t={};for(let r of this.permanentElements){let{id:o}=r,u=e.getPermanentElementById(o);u&&(t[o]=[r,u])}return t}};function Ar(i,e){return i.querySelector(`#${e}[data-turbo-permanent]`)}function _r(i){return i.querySelectorAll("[id][data-turbo-permanent]")}var Dt=class{constructor(e,t){this.started=!1,this.submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)},this.submitBubbled=r=>{if(!r.defaultPrevented){let o=r.target instanceof HTMLFormElement?r.target:void 0,u=r.submitter||void 0;o&&fo(o,u)&&po(o,u)&&this.delegate.willSubmitForm(o,u)&&(r.preventDefault(),r.stopImmediatePropagation(),this.delegate.formSubmitted(o,u))}},this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}};function fo(i,e){return(e?.getAttribute("formmethod")||i.getAttribute("method"))!="dialog"}function po(i,e){if(e?.hasAttribute("formtarget")||i.hasAttribute("target")){let t=e?.getAttribute("formtarget")||i.target;for(let r of document.getElementsByName(t))if(r instanceof HTMLIFrameElement)return!1;return!0}else return!0}var fi=class{constructor(e,t){this.resolveRenderPromise=r=>{},this.resolveInterceptionPromise=r=>{},this.delegate=e,this.element=t}scrollToAnchor(e){let t=this.snapshot.getElementForAnchor(e);t?(this.scrollToElement(t),this.focusElement(t)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(ct(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:t}){this.scrollRoot.scrollTo(e,t)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){let{isPreview:t,shouldRender:r,newSnapshot:o}=e;if(r)try{this.renderPromise=new Promise(S=>this.resolveRenderPromise=S),this.renderer=e,await this.prepareToRenderSnapshot(e);let u=new Promise(S=>this.resolveInterceptionPromise=S),w={resume:this.resolveInterceptionPromise,render:this.renderer.renderElement};this.delegate.allowsImmediateRender(o,w)||await u,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(o,t),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,this.resolveRenderPromise(void 0),delete this.renderPromise}else this.invalidate(e.reloadReason)}invalidate(e){this.delegate.viewInvalidated(e)}async prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),await e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}},Vi=class extends fi{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new At(this.element)}},pi=class{constructor(e,t){this.clickBubbled=r=>{this.respondsToEventTarget(r.target)?this.clickEvent=r:delete this.clickEvent},this.linkClicked=r=>{this.clickEvent&&this.respondsToEventTarget(r.target)&&r.target instanceof Element&&this.delegate.shouldInterceptLinkClick(r.target,r.detail.url,r.detail.originalEvent)&&(this.clickEvent.preventDefault(),r.preventDefault(),this.delegate.linkClickIntercepted(r.target,r.detail.url,r.detail.originalEvent)),delete this.clickEvent},this.willVisit=r=>{delete this.clickEvent},this.delegate=e,this.element=t}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}respondsToEventTarget(e){let t=e instanceof Element?e:e instanceof Node?e.parentElement:null;return t&&t.closest("turbo-frame, html")==this.element}},mi=class{constructor(e,t){this.started=!1,this.clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)},this.clickBubbled=r=>{if(r instanceof MouseEvent&&this.clickEventIsSignificant(r)){let o=r.composedPath&&r.composedPath()[0]||r.target,u=this.findLinkFromClickTarget(o);if(u&&mo(u)){let w=this.getLocationForLink(u);this.delegate.willFollowLinkToLocation(u,w,r)&&(r.preventDefault(),this.delegate.followedLinkToLocation(u,w))}}},this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}findLinkFromClickTarget(e){return hi(e,"a[href]:not([target^=_]):not([download])")}getLocationForLink(e){return we(e.getAttribute("href")||"")}};function mo(i){if(i.hasAttribute("target")){for(let e of document.getElementsByName(i.target))if(e instanceof HTMLIFrameElement)return!1;return!0}else return!0}var gi=class{constructor(e,t){this.delegate=e,this.linkInterceptor=new mi(this,t)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}willFollowLinkToLocation(e,t,r){return this.delegate.willSubmitFormLinkToLocation(e,t,r)&&e.hasAttribute("data-turbo-method")}followedLinkToLocation(e,t){let r=document.createElement("form"),o="hidden";for(let[B,j]of t.searchParams)r.append(Object.assign(document.createElement("input"),{type:o,name:B,value:j}));let u=Object.assign(t,{search:""});r.setAttribute("data-turbo","true"),r.setAttribute("action",u.href),r.setAttribute("hidden","");let w=e.getAttribute("data-turbo-method");w&&r.setAttribute("method",w);let b=e.getAttribute("data-turbo-frame");b&&r.setAttribute("data-turbo-frame",b);let S=yi(e);S&&r.setAttribute("data-turbo-action",S);let I=e.getAttribute("data-turbo-confirm");I&&r.setAttribute("data-turbo-confirm",I),e.hasAttribute("data-turbo-stream")&&r.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,t,r),document.body.appendChild(r),r.addEventListener("turbo:submit-end",()=>r.remove(),{once:!0}),requestAnimationFrame(()=>r.requestSubmit())}},vi=class{static async preservingPermanentElements(e,t,r){let o=new this(e,t);o.enter(),await r(),o.leave()}constructor(e,t){this.delegate=e,this.permanentElementMap=t}enter(){for(let e in this.permanentElementMap){let[t,r]=this.permanentElementMap[e];this.delegate.enteringBardo(t,r),this.replaceNewPermanentElementWithPlaceholder(r)}}leave(){for(let e in this.permanentElementMap){let[t]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(t),this.replacePlaceholderWithPermanentElement(t),this.delegate.leavingBardo(t)}}replaceNewPermanentElementWithPlaceholder(e){let t=go(e);e.replaceWith(t)}replaceCurrentPermanentElementWithClone(e){let t=e.cloneNode(!0);e.replaceWith(t)}replacePlaceholderWithPermanentElement(e){let t=this.getPlaceholderById(e.id);t?.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find(t=>t.content==e)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}};function go(i){let e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",i.id),e}var kt=class{constructor(e,t,r,o,u=!0){this.activeElement=null,this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=o,this.willRender=u,this.renderElement=r,this.promise=new Promise((w,b)=>this.resolvingFunctions={resolve:w,reject:b})}get shouldRender(){return!0}get reloadReason(){}prepareToRender(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(e){await vi.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){let e=this.connectedSnapshot.firstAutofocusableElement;vo(e)&&e.focus()}enteringBardo(e){this.activeElement||e.contains(this.currentSnapshot.activeElement)&&(this.activeElement=this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(this.activeElement)&&this.activeElement instanceof HTMLElement&&(this.activeElement.focus(),this.activeElement=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}};function vo(i){return i&&typeof i.focus=="function"}var Nt=class extends kt{static renderElement(e,t){var r;let o=document.createRange();o.selectNodeContents(e),o.deleteContents();let u=t,w=(r=u.ownerDocument)===null||r===void 0?void 0:r.createRange();w&&(w.selectNodeContents(u),e.appendChild(w.extractContents()))}constructor(e,t,r,o,u,w=!0){super(t,r,o,u,w),this.delegate=e}get shouldRender(){return!0}async render(){await ci(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await ci(),this.focusFirstAutofocusableElement(),await ci(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){let e=this.currentElement.firstElementChild,t=bo(this.currentElement.getAttribute("data-autoscroll-block"),"end"),r=yo(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(e)return e.scrollIntoView({block:t,behavior:r}),!0}return!1}activateScriptElements(){for(let e of this.newScriptElements){let t=Mt(e);e.replaceWith(t)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}};function bo(i,e){return i=="end"||i=="start"||i=="center"||i=="nearest"?i:e}function yo(i,e){return i=="auto"||i=="smooth"?i:e}var ke=class{static get defaultCSS(){return wr`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${ke.animationDuration}ms ease-out,
          opacity ${ke.animationDuration/2}ms ${ke.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}constructor(){this.hiding=!1,this.value=0,this.visible=!1,this.trickle=()=>{this.setValue(this.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,ke.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,ke.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){let e=document.createElement("style");return e.type="text/css",e.textContent=ke.defaultCSS,this.cspNonce&&(e.nonce=this.cspNonce),e}createProgressElement(){let e=document.createElement("div");return e.className="turbo-progress-bar",e}get cspNonce(){return di("csp-nonce")}};ke.animationDuration=300;var Wi=class extends At{constructor(){super(...arguments),this.detailsByOuterHTML=this.children.filter(e=>!Ao(e)).map(e=>To(e)).reduce((e,t)=>{let{outerHTML:r}=t,o=r in e?e[r]:{type:wo(t),tracked:Eo(t),elements:[]};return Object.assign(Object.assign({},e),{[r]:Object.assign(Object.assign({},o),{elements:[...o.elements,t]})})},{})}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(e=>this.detailsByOuterHTML[e].tracked).join("")}getScriptElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("script",e)}getStylesheetElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",e)}getElementsMatchingTypeNotInSnapshot(e,t){return Object.keys(this.detailsByOuterHTML).filter(r=>!(r in t.detailsByOuterHTML)).map(r=>this.detailsByOuterHTML[r]).filter(({type:r})=>r==e).map(({elements:[r]})=>r)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((e,t)=>{let{type:r,tracked:o,elements:u}=this.detailsByOuterHTML[t];return r==null&&!o?[...e,...u]:u.length>1?[...e,...u.slice(1)]:e},[])}getMetaValue(e){let t=this.findMetaElementByName(e);return t?t.getAttribute("content"):null}findMetaElementByName(e){return Object.keys(this.detailsByOuterHTML).reduce((t,r)=>{let{elements:[o]}=this.detailsByOuterHTML[r];return Co(o,e)?o:t},void 0)}};function wo(i){if(So(i))return"script";if(_o(i))return"stylesheet"}function Eo(i){return i.getAttribute("data-turbo-track")=="reload"}function So(i){return i.localName=="script"}function Ao(i){return i.localName=="noscript"}function _o(i){let e=i.localName;return e=="style"||e=="link"&&i.getAttribute("rel")=="stylesheet"}function Co(i,e){return i.localName=="meta"&&i.getAttribute("name")==e}function To(i){return i.hasAttribute("nonce")&&i.setAttribute("nonce",""),i}var Oe=class extends At{static fromHTMLString(e=""){return this.fromDocument(yr(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({head:e,body:t}){return new this(t,new Wi(e))}constructor(e,t){super(e),this.headSnapshot=t}clone(){let e=this.element.cloneNode(!0),t=this.element.querySelectorAll("select"),r=e.querySelectorAll("select");for(let[o,u]of t.entries()){let w=r[o];for(let b of w.selectedOptions)b.selected=!1;for(let b of u.selectedOptions)w.options[b.index].selected=!0}for(let o of e.querySelectorAll('input[type="password"]'))o.value="";return new Oe(e,this.headSnapshot)}get headElement(){return this.headSnapshot.element}get rootLocation(){var e;let t=(e=this.getSetting("root"))!==null&&e!==void 0?e:"/";return we(t)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}},wt;(function(i){i.visitStart="visitStart",i.requestStart="requestStart",i.requestEnd="requestEnd",i.visitEnd="visitEnd"})(wt||(wt={}));var De;(function(i){i.initialized="initialized",i.started="started",i.canceled="canceled",i.failed="failed",i.completed="completed"})(De||(De={}));var Lo={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1},rt;(function(i){i[i.networkFailure=0]="networkFailure",i[i.timeoutFailure=-1]="timeoutFailure",i[i.contentTypeMismatch=-2]="contentTypeMismatch"})(rt||(rt={}));var ji=class{constructor(e,t,r,o={}){this.identifier=St(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.shouldCacheSnapshot=!0,this.acceptsStreamResponse=!1,this.snapshotCached=!1,this.state=De.initialized,this.delegate=e,this.location=t,this.restorationIdentifier=r||St();let{action:u,historyChanged:w,referrer:b,snapshot:S,snapshotHTML:I,response:C,visitCachedSnapshot:B,willRender:j,updateHistory:N,shouldCacheSnapshot:W,acceptsStreamResponse:q}=Object.assign(Object.assign({},Lo),o);this.action=u,this.historyChanged=w,this.referrer=b,this.snapshot=S,this.snapshotHTML=I,this.response=C,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.visitCachedSnapshot=B,this.willRender=j,this.updateHistory=N,this.scrolled=!j,this.shouldCacheSnapshot=W,this.acceptsStreamResponse=q}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==De.initialized&&(this.recordTimingMetric(wt.visitStart),this.state=De.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==De.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=De.canceled)}complete(){this.state==De.started&&(this.recordTimingMetric(wt.visitEnd),this.state=De.completed,this.followRedirect(),this.followedRedirect||(this.adapter.visitCompleted(this),this.delegate.visitCompleted(this)))}fail(){this.state==De.started&&(this.state=De.failed,this.adapter.visitFailed(this))}changeHistory(){var e;if(!this.historyChanged&&this.updateHistory){let t=this.location.href===((e=this.referrer)===null||e===void 0?void 0:e.href)?"replace":this.action,r=Er(t);this.history.update(r,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new Ft(this,_e.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(wt.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){let{statusCode:t}=e;pr(t)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,t)}}finishRequest(){this.recordTimingMetric(wt.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){let{statusCode:e,responseHTML:t}=this.response;this.render(async()=>{this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,pr(e)&&t!=null?(await this.view.renderPage(Oe.fromHTMLString(t),!1,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),this.complete()):(await this.view.renderError(Oe.fromHTMLString(t),this),this.adapter.visitRendered(this),this.fail())})}}getCachedSnapshot(){let e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!ct(this.location)||e.hasAnchor(ct(this.location)))&&(this.action=="restore"||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return Oe.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){let e=this.getCachedSnapshot();if(e){let t=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.view.renderPage(e,t,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),t||this.complete())})}}followRedirect(){var e;this.redirectedToLocation&&!this.followedRedirect&&((e=this.response)===null||e===void 0?void 0:e.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(e){this.acceptsStreamResponse&&e.acceptResponseType(Qe.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,t){}async requestSucceededWithResponse(e,t){let r=await t.responseHTML,{redirected:o,statusCode:u}=t;r==null?this.recordResponse({statusCode:rt.contentTypeMismatch,redirected:o}):(this.redirectedToLocation=t.redirected?t.location:void 0,this.recordResponse({statusCode:u,responseHTML:r,redirected:o}))}async requestFailedWithResponse(e,t){let r=await t.responseHTML,{redirected:o,statusCode:u}=t;r==null?this.recordResponse({statusCode:rt.contentTypeMismatch,redirected:o}):this.recordResponse({statusCode:u,responseHTML:r,redirected:o})}requestErrored(e,t){this.recordResponse({statusCode:rt.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){let{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){let e=ct(this.location);if(e!=null)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=new Date().getTime()}getTimingMetrics(){return Object.assign({},this.timingMetrics)}getHistoryMethodForAction(e){switch(e){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(e=>e&&this.visitCachedSnapshot(e)),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise(t=>{this.frame=requestAnimationFrame(()=>t())}),await e(),delete this.frame}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}};function pr(i){return i>=200&&i<300}var Ui=class{constructor(e){this.progressBar=new ke,this.showProgressBar=()=>{this.progressBar.show()},this.session=e}visitProposedToLocation(e,t){this.navigator.startVisit(e,t?.restorationIdentifier||St(),t)}visitStarted(e){this.location=e.location,e.loadCachedSnapshot(),e.issueRequest(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||e.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse()}visitRequestFailedWithStatusCode(e,t){switch(t){case rt.networkFailure:case rt.timeoutFailure:case rt.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:t}});default:return e.loadResponse()}}visitRequestFinished(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitCompleted(e){}pageInvalidated(e){this.reload(e)}visitFailed(e){}visitRendered(e){}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(e){var t;be("turbo:reload",{detail:e}),window.location.href=((t=this.location)===null||t===void 0?void 0:t.toString())||window.location.href}get navigator(){return this.session.navigator}},zi=class{constructor(){this.selector="[data-turbo-temporary]",this.deprecatedSelector="[data-turbo-cache=false]",this.started=!1,this.removeTemporaryElements=e=>{for(let t of this.temporaryElements)t.remove()}}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){let e=document.querySelectorAll(this.deprecatedSelector);return e.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...e]}},Ki=class{constructor(e,t){this.session=e,this.element=t,this.linkInterceptor=new pi(this,t),this.formSubmitObserver=new Dt(this,t)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(e,t,r){return this.shouldRedirect(e)}linkClickIntercepted(e,t,r){let o=this.findFrameElement(e);o&&o.delegate.linkClickIntercepted(e,t,r)}willSubmitForm(e,t){return e.closest("turbo-frame")==null&&this.shouldSubmit(e,t)&&this.shouldRedirect(e,t)}formSubmitted(e,t){let r=this.findFrameElement(e,t);r&&r.delegate.formSubmitted(e,t)}shouldSubmit(e,t){var r;let o=ls(e,t),u=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),w=we((r=u?.content)!==null&&r!==void 0?r:"/");return this.shouldRedirect(e,t)&&Et(o,w)}shouldRedirect(e,t){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,t):this.session.elementIsNavigatable(e)){let o=this.findFrameElement(e,t);return o?o!=e.closest("turbo-frame"):!1}else return!1}findFrameElement(e,t){let r=t?.getAttribute("data-turbo-frame")||e.getAttribute("data-turbo-frame");if(r&&r!="_top"){let o=this.element.querySelector(`#${r}:not([disabled])`);if(o instanceof Ne)return o}}},Yi=class{constructor(e){this.restorationIdentifier=St(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=t=>{if(this.shouldHandlePopState()){let{turbo:r}=t.state||{};if(r){this.location=new URL(window.location.href);let{restorationIdentifier:o}=r;this.restorationIdentifier=o,this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location,o)}}},this.onPageLoad=async t=>{await Zn(),this.pageLoaded=!0},this.delegate=e}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,t){this.update(history.pushState,e,t)}replace(e,t){this.update(history.replaceState,e,t)}update(e,t,r=St()){let o={turbo:{restorationIdentifier:r}};e.call(history,o,"",t.href),this.location=t,this.restorationIdentifier=r}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){let{restorationIdentifier:t}=this,r=this.restorationData[t];this.restorationData[t]=Object.assign(Object.assign({},r),e)}assumeControlOfScrollRestoration(){var e;this.previousScrollRestoration||(this.previousScrollRestoration=(e=history.scrollRestoration)!==null&&e!==void 0?e:"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}},Gi=class{constructor(e){this.delegate=e}proposeVisit(e,t={}){this.delegate.allowsVisitingLocationWithAction(e,t.action)&&(Et(e,this.view.snapshot.rootLocation)?this.delegate.visitProposedToLocation(e,t):window.location.href=e.toString())}startVisit(e,t,r={}){this.stop(),this.currentVisit=new ji(this,we(e),t,Object.assign({referrer:this.location},r)),this.currentVisit.start()}submitForm(e,t){this.stop(),this.formSubmission=new ut(this,e,t,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}formSubmissionStarted(e){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,t){if(e==this.formSubmission){let r=await t.responseHTML;if(r){let o=e.isSafe;o||this.view.clearSnapshotCache();let{statusCode:u,redirected:w}=t,S={action:this.getActionForFormSubmission(e),shouldCacheSnapshot:o,response:{statusCode:u,responseHTML:r,redirected:w}};this.proposeVisit(t.location,S)}}}async formSubmissionFailedWithResponse(e,t){let r=await t.responseHTML;if(r){let o=Oe.fromHTMLString(r);t.serverError?await this.view.renderError(o,this.currentVisit):await this.view.renderPage(o,!1,!0,this.currentVisit),this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished(e){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(e)}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e)}locationWithActionIsSamePage(e,t){let r=ct(e),o=ct(this.view.lastRenderedLocation),u=t==="restore"&&typeof r>"u";return t!=="replace"&&qi(e)===qi(this.view.lastRenderedLocation)&&(u||r!=null&&r!==o)}visitScrolledToSamePageLocation(e,t){this.delegate.visitScrolledToSamePageLocation(e,t)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}getActionForFormSubmission({submitter:e,formElement:t}){return yi(e,t)||"advance"}},Ge;(function(i){i[i.initial=0]="initial",i[i.loading=1]="loading",i[i.interactive=2]="interactive",i[i.complete=3]="complete"})(Ge||(Ge={}));var Qi=class{constructor(e){this.stage=Ge.initial,this.started=!1,this.interpretReadyState=()=>{let{readyState:t}=this;t=="interactive"?this.pageIsInteractive():t=="complete"&&this.pageIsComplete()},this.pageWillUnload=()=>{this.delegate.pageWillUnload()},this.delegate=e}start(){this.started||(this.stage==Ge.initial&&(this.stage=Ge.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==Ge.loading&&(this.stage=Ge.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==Ge.interactive&&(this.stage=Ge.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}},Xi=class{constructor(e){this.started=!1,this.onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(e){this.delegate.scrollPositionChanged(e)}},Ji=class{render({fragment:e}){vi.preservingPermanentElements(this,Oo(e),()=>document.documentElement.appendChild(e))}enteringBardo(e,t){t.replaceWith(e.cloneNode(!0))}leavingBardo(){}};function Oo(i){let e=_r(document.documentElement),t={};for(let r of e){let{id:o}=r;for(let u of i.querySelectorAll("turbo-stream")){let w=Ar(u.templateElement.content,o);w&&(t[o]=[r,w])}}return t}var Zi=class{constructor(e){this.sources=new Set,this.started=!1,this.inspectFetchResponse=t=>{let r=Ro(t);r&&Po(r)&&(t.preventDefault(),this.receiveMessageResponse(r))},this.receiveMessageEvent=t=>{this.started&&typeof t.data=="string"&&this.receiveMessageHTML(t.data)},this.delegate=e}start(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}async receiveMessageResponse(e){let t=await e.responseHTML;t&&this.receiveMessageHTML(t)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(Qe.wrap(e))}};function Ro(i){var e;let t=(e=i.detail)===null||e===void 0?void 0:e.fetchResponse;if(t instanceof xt)return t}function Po(i){var e;return((e=i.contentType)!==null&&e!==void 0?e:"").startsWith(Qe.contentType)}var bi=class extends kt{static renderElement(e,t){let{documentElement:r,body:o}=document;r.replaceChild(t,o)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){let{documentElement:e,head:t}=document;e.replaceChild(this.newHead,t),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(let e of this.scriptElements){let t=e.parentNode;if(t){let r=Mt(e);t.replaceChild(r,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}},qt=class extends kt{static renderElement(e,t){document.body&&t instanceof HTMLBodyElement?document.body.replaceWith(t):document.documentElement.appendChild(t)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){let e=this.mergeProvisionalElements(),t=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await e,await t}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){let e=[];for(let t of this.newHeadStylesheetElements)e.push(io(t)),document.head.appendChild(t);await Promise.all(e)}copyNewHeadScriptElements(){for(let e of this.newHeadScriptElements)document.head.appendChild(Mt(e))}async mergeProvisionalElements(){let e=[...this.newHeadProvisionalElements];for(let t of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(t,e)||document.head.removeChild(t);for(let t of e)document.head.appendChild(t)}isCurrentElementInElementList(e,t){for(let[r,o]of t.entries()){if(e.tagName=="TITLE"){if(o.tagName!="TITLE")continue;if(e.innerHTML==o.innerHTML)return t.splice(r,1),!0}if(o.isEqualNode(e))return t.splice(r,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(let e of this.currentHeadProvisionalElements)document.head.removeChild(e)}copyNewHeadProvisionalElements(){for(let e of this.newHeadProvisionalElements)document.head.appendChild(e)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(let e of this.newBodyScriptElements){let t=Mt(e);e.replaceWith(t)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}},es=class{constructor(e){this.keys=[],this.snapshots={},this.size=e}has(e){return li(e)in this.snapshots}get(e){if(this.has(e)){let t=this.read(e);return this.touch(e),t}}put(e,t){return this.write(e,t),this.touch(e),t}clear(){this.snapshots={}}read(e){return this.snapshots[li(e)]}write(e,t){this.snapshots[li(e)]=t}touch(e){let t=li(e),r=this.keys.indexOf(t);r>-1&&this.keys.splice(r,1),this.keys.unshift(t),this.trim()}trim(){for(let e of this.keys.splice(this.size))delete this.snapshots[e]}},ts=class extends fi{constructor(){super(...arguments),this.snapshotCache=new es(10),this.lastRenderedLocation=new URL(location.href),this.forceReloaded=!1}renderPage(e,t=!1,r=!0,o){let u=new qt(this.snapshot,e,qt.renderElement,t,r);return u.shouldRender?o?.changeHistory():this.forceReloaded=!0,this.render(u)}renderError(e,t){t?.changeHistory();let r=new bi(this.snapshot,e,bi.renderElement,!1);return this.render(r)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(e=this.snapshot){if(e.isCacheable){this.delegate.viewWillCacheSnapshot();let{lastRenderedLocation:t}=this;await Jn();let r=e.clone();return this.snapshotCache.put(t,r),r}}getCachedSnapshotForLocation(e){return this.snapshotCache.get(e)}get snapshot(){return Oe.fromElement(this.element)}},is=class{constructor(e){this.selector="a[data-turbo-preload]",this.delegate=e}get snapshotCache(){return this.delegate.navigator.view.snapshotCache}start(){if(document.readyState==="loading")return document.addEventListener("DOMContentLoaded",()=>{this.preloadOnLoadLinksForView(document.body)});this.preloadOnLoadLinksForView(document.body)}preloadOnLoadLinksForView(e){for(let t of e.querySelectorAll(this.selector))this.preloadURL(t)}async preloadURL(e){let t=new URL(e.href);if(!this.snapshotCache.has(t))try{let o=await(await fetch(t.toString(),{headers:{"VND.PREFETCH":"true",Accept:"text/html"}})).text(),u=Oe.fromHTMLString(o);this.snapshotCache.put(t,u)}catch{}}},ss=class{constructor(){this.navigator=new Gi(this),this.history=new Yi(this),this.preloader=new is(this),this.view=new ts(this,document.documentElement),this.adapter=new Ui(this),this.pageObserver=new Qi(this),this.cacheObserver=new zi,this.linkClickObserver=new mi(this,window),this.formSubmitObserver=new Dt(this,document),this.scrollObserver=new Xi(this),this.streamObserver=new Zi(this),this.formLinkClickObserver=new gi(this,document.documentElement),this.frameRedirector=new Ki(this,document.documentElement),this.streamMessageRenderer=new Ji,this.drive=!0,this.enabled=!0,this.progressBarDelay=500,this.started=!1,this.formMode="on"}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,t={}){let r=t.frame?document.getElementById(t.frame):null;r instanceof Ne?(r.src=e.toString(),r.loaded):this.navigator.proposeVisit(we(e),t)}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render(Qe.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){this.progressBarDelay=e}setFormMode(e){this.formMode=e}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}historyPoppedToLocationWithRestorationIdentifier(e,t){this.enabled?this.navigator.startVisit(e,t,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,t){return this.elementIsNavigatable(e)&&Et(t,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}willFollowLinkToLocation(e,t,r){return this.elementIsNavigatable(e)&&Et(t,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,t,r)}followedLinkToLocation(e,t){let r=this.getActionForLink(e),o=e.hasAttribute("data-turbo-stream");this.visit(t.href,{action:r,acceptsStreamResponse:o})}allowsVisitingLocationWithAction(e,t){return this.locationWithActionIsSamePage(e,t)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,t){mr(e),this.adapter.visitProposedToLocation(e,t)}visitStarted(e){e.acceptsStreamResponse||Hi(document.documentElement),mr(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){Bi(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,t){return this.navigator.locationWithActionIsSamePage(e,t)}visitScrolledToSamePageLocation(e,t){this.notifyApplicationAfterVisitingSamePageLocation(e,t)}willSubmitForm(e,t){let r=ls(e,t);return this.submissionIsNavigatable(e,t)&&Et(we(r),this.snapshot.rootLocation)}formSubmitted(e,t){this.navigator.submitForm(e,t)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){var e;!((e=this.navigator.currentVisit)===null||e===void 0)&&e.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},t){let r=this.notifyApplicationBeforeRender(e,t),{defaultPrevented:o,detail:{render:u}}=r;return this.view.renderer&&u&&(this.view.renderer.renderElement=u),!o}viewRenderedSnapshot(e,t){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,t){this.notifyApplicationAfterFrameRender(e,t)}applicationAllowsFollowingLinkToLocation(e,t,r){return!this.notifyApplicationAfterClickingLinkToLocation(e,t,r).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,t,r){return be("turbo:click",{target:e,detail:{url:t.href,originalEvent:r},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return be("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,t){return be("turbo:visit",{detail:{url:e.href,action:t}})}notifyApplicationBeforeCachingSnapshot(){return be("turbo:before-cache")}notifyApplicationBeforeRender(e,t){return be("turbo:before-render",{detail:Object.assign({newBody:e},t),cancelable:!0})}notifyApplicationAfterRender(){return be("turbo:render")}notifyApplicationAfterPageLoad(e={}){return be("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,t){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:t.toString()}))}notifyApplicationAfterFrameLoad(e){return be("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,t){return be("turbo:frame-render",{detail:{fetchResponse:e},target:t,cancelable:!0})}submissionIsNavigatable(e,t){if(this.formMode=="off")return!1;{let r=t?this.elementIsNavigatable(t):!0;return this.formMode=="optin"?r&&e.closest('[data-turbo="true"]')!=null:r&&this.elementIsNavigatable(e)}}elementIsNavigatable(e){let t=hi(e,"[data-turbo]"),r=hi(e,"turbo-frame");return this.drive||r?t?t.getAttribute("data-turbo")!="false":!0:t?t.getAttribute("data-turbo")=="true":!1}getActionForLink(e){return yi(e)||"advance"}get snapshot(){return this.view.snapshot}};function mr(i){Object.defineProperties(i,Io)}var Io={absoluteURL:{get(){return this.toString()}}},rs=class{constructor(e){this.session=e}clear(){this.session.clearCache()}resetCacheControl(){this.setCacheControl("")}exemptPageFromCache(){this.setCacheControl("no-cache")}exemptPageFromPreview(){this.setCacheControl("no-preview")}setCacheControl(e){ro("turbo-cache-control",e)}},Cr={after(){this.targetElements.forEach(i=>{var e;return(e=i.parentElement)===null||e===void 0?void 0:e.insertBefore(this.templateContent,i.nextSibling)})},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(i=>i.append(this.templateContent))},before(){this.targetElements.forEach(i=>{var e;return(e=i.parentElement)===null||e===void 0?void 0:e.insertBefore(this.templateContent,i)})},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(i=>i.prepend(this.templateContent))},remove(){this.targetElements.forEach(i=>i.remove())},replace(){this.targetElements.forEach(i=>i.replaceWith(this.templateContent))},update(){this.targetElements.forEach(i=>{i.innerHTML="",i.append(this.templateContent)})}},le=new ss,xo=new rs(le),{navigator:Mo}=le;function Tr(){le.start()}function Fo(i){le.registerAdapter(i)}function Do(i,e){le.visit(i,e)}function wi(i){le.connectStreamSource(i)}function Ei(i){le.disconnectStreamSource(i)}function ko(i){le.renderStreamMessage(i)}function No(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),le.clearCache()}function qo(i){le.setProgressBarDelay(i)}function Ho(i){ut.confirmMethod=i}function Bo(i){le.setFormMode(i)}var $o=Object.freeze({__proto__:null,navigator:Mo,session:le,cache:xo,PageRenderer:qt,PageSnapshot:Oe,FrameRenderer:Nt,start:Tr,registerAdapter:Fo,visit:Do,connectStreamSource:wi,disconnectStreamSource:Ei,renderStreamMessage:ko,clearCache:No,setProgressBarDelay:qo,setConfirmMethod:Ho,setFormMode:Bo,StreamActions:Cr}),ns=class extends Error{},os=class{constructor(e){this.fetchResponseLoaded=t=>{},this.currentFetchRequest=null,this.resolveVisitPromise=()=>{},this.connected=!1,this.hasBeenLoaded=!1,this.ignoredAttributes=new Set,this.action=null,this.visitCachedSnapshot=({element:t})=>{let r=t.querySelector("#"+this.element.id);r&&this.previousFrameElement&&r.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement},this.element=e,this.view=new Vi(this,this.element),this.appearanceObserver=new $i(this,this.element),this.formLinkClickObserver=new gi(this,this.element),this.linkInterceptor=new pi(this,this.element),this.restorationIdentifier=St(),this.formSubmitObserver=new Dt(this,this.element)}connect(){this.connected||(this.connected=!0,this.loadingStyle==st.lazy?this.appearanceObserver.start():this.loadSourceURL(),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.connected&&(this.connected=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==st.eager&&this.loadSourceURL()}sourceURLChanged(){this.isIgnoringChangesTo("src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==st.eager||this.hasBeenLoaded)&&this.loadSourceURL())}sourceURLReloaded(){let{src:e}=this.element;return this.ignoringChangesToAttribute("complete",()=>{this.element.removeAttribute("complete")}),this.element.src=null,this.element.src=e,this.element.loaded}completeChanged(){this.isIgnoringChangesTo("complete")||this.loadSourceURL()}loadingStyleChanged(){this.loadingStyle==st.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())}async loadSourceURL(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.visit(we(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.hasBeenLoaded=!0)}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{let t=await e.responseHTML;if(t){let r=yr(t);Oe.fromDocument(r).isVisitable?await this.loadFrameResponse(e,r):await this.handleUnvisitableFrameResponse(e)}}finally{this.fetchResponseLoaded=()=>{}}}elementAppearedInViewport(e){this.proposeVisitIfNavigatedWithAction(e,e),this.loadSourceURL()}willSubmitFormLinkToLocation(e){return this.shouldInterceptNavigation(e)}submittedFormLinkToLocation(e,t,r){let o=this.findFrameElement(e);o&&r.setAttribute("data-turbo-frame",o.id)}shouldInterceptLinkClick(e,t,r){return this.shouldInterceptNavigation(e)}linkClickIntercepted(e,t){this.navigateFrame(e,t)}willSubmitForm(e,t){return e.closest("turbo-frame")==this.element&&this.shouldInterceptNavigation(e,t)}formSubmitted(e,t){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new ut(this,e,t);let{fetchRequest:r}=this.formSubmission;this.prepareRequest(r),this.formSubmission.start()}prepareRequest(e){var t;e.headers["Turbo-Frame"]=this.id,!((t=this.currentNavigationElement)===null||t===void 0)&&t.hasAttribute("data-turbo-stream")&&e.acceptResponseType(Qe.contentType)}requestStarted(e){Hi(this.element)}requestPreventedHandlingResponse(e,t){this.resolveVisitPromise()}async requestSucceededWithResponse(e,t){await this.loadResponse(t),this.resolveVisitPromise()}async requestFailedWithResponse(e,t){await this.loadResponse(t),this.resolveVisitPromise()}requestErrored(e,t){console.error(t),this.resolveVisitPromise()}requestFinished(e){Bi(this.element)}formSubmissionStarted({formElement:e}){Hi(e,this.findFrameElement(e))}formSubmissionSucceededWithResponse(e,t){let r=this.findFrameElement(e.formElement,e.submitter);r.delegate.proposeVisitIfNavigatedWithAction(r,e.formElement,e.submitter),r.delegate.loadResponse(t),e.isSafe||le.clearCache()}formSubmissionFailedWithResponse(e,t){this.element.delegate.loadResponse(t),le.clearCache()}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished({formElement:e}){Bi(e,this.findFrameElement(e))}allowsImmediateRender({element:e},t){let r=be("turbo:before-frame-render",{target:this.element,detail:Object.assign({newFrame:e},t),cancelable:!0}),{defaultPrevented:o,detail:{render:u}}=r;return this.view.renderer&&u&&(this.view.renderer.renderElement=u),!o}viewRenderedSnapshot(e,t){}preloadOnLoadLinksForView(e){le.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,t){this.previousFrameElement=e.cloneNode(!0)}async loadFrameResponse(e,t){let r=await this.extractForeignFrameElement(t.body);if(r){let o=new At(r),u=new Nt(this,this.view.snapshot,o,Nt.renderElement,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(u),this.complete=!0,le.frameRendered(e,this.element),le.frameLoaded(this.element),this.fetchResponseLoaded(e)}else this.willHandleFrameMissingFromResponse(e)&&this.handleFrameMissingFromResponse(e)}async visit(e){var t;let r=new Ft(this,_e.get,e,new URLSearchParams,this.element);return(t=this.currentFetchRequest)===null||t===void 0||t.cancel(),this.currentFetchRequest=r,new Promise(o=>{this.resolveVisitPromise=()=>{this.resolveVisitPromise=()=>{},this.currentFetchRequest=null,o()},r.perform()})}navigateFrame(e,t,r){let o=this.findFrameElement(e,r);o.delegate.proposeVisitIfNavigatedWithAction(o,e,r),this.withCurrentNavigationElement(e,()=>{o.src=t})}proposeVisitIfNavigatedWithAction(e,t,r){if(this.action=yi(r,t,e),this.action){let o=Oe.fromElement(e).clone(),{visitCachedSnapshot:u}=e.delegate;e.delegate.fetchResponseLoaded=w=>{if(e.src){let{statusCode:b,redirected:S}=w,I=e.ownerDocument.documentElement.outerHTML,B={response:{statusCode:b,redirected:S,responseHTML:I},visitCachedSnapshot:u,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:o};this.action&&(B.action=this.action),le.visit(e.src,B)}}}}changeHistory(){if(this.action){let e=Er(this.action);le.history.update(e,we(this.element.src||""),this.restorationIdentifier)}}async handleUnvisitableFrameResponse(e){console.warn(`The response (${e.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await this.visitResponse(e.response)}willHandleFrameMissingFromResponse(e){this.element.setAttribute("complete","");let t=e.response,r=async(u,w={})=>{u instanceof Response?this.visitResponse(u):le.visit(u,w)};return!be("turbo:frame-missing",{target:this.element,detail:{response:t,visit:r},cancelable:!0}).defaultPrevented}handleFrameMissingFromResponse(e){this.view.missing(),this.throwFrameMissingError(e)}throwFrameMissingError(e){let t=`The response (${e.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new ns(t)}async visitResponse(e){let t=new xt(e),r=await t.responseHTML,{location:o,redirected:u,statusCode:w}=t;return le.visit(o,{response:{redirected:u,statusCode:w,responseHTML:r}})}findFrameElement(e,t){var r;let o=ui("data-turbo-frame",t,e)||this.element.getAttribute("target");return(r=gr(o))!==null&&r!==void 0?r:this.element}async extractForeignFrameElement(e){let t,r=CSS.escape(this.id);try{if(t=vr(e.querySelector(`turbo-frame#${r}`),this.sourceURL),t)return t;if(t=vr(e.querySelector(`turbo-frame[src][recurse~=${r}]`),this.sourceURL),t)return await t.loaded,await this.extractForeignFrameElement(t)}catch(o){return console.error(o),new Ne}return null}formActionIsVisitable(e,t){let r=ls(e,t);return Et(we(r),this.rootLocation)}shouldInterceptNavigation(e,t){let r=ui("data-turbo-frame",t,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!this.formActionIsVisitable(e,t)||!this.enabled||r=="_top")return!1;if(r){let o=gr(r);if(o)return!o.disabled}return!(!le.elementIsNavigatable(e)||t&&!le.elementIsNavigatable(t))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){this.ignoringChangesToAttribute("src",()=>{this.element.src=e??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||this.resolveVisitPromise()!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(e){this.ignoringChangesToAttribute("complete",()=>{e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")})}get isActive(){return this.element.isActive&&this.connected}get rootLocation(){var e;let t=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),r=(e=t?.content)!==null&&e!==void 0?e:"/";return we(r)}isIgnoringChangesTo(e){return this.ignoredAttributes.has(e)}ignoringChangesToAttribute(e,t){this.ignoredAttributes.add(e),t(),this.ignoredAttributes.delete(e)}withCurrentNavigationElement(e,t){this.currentNavigationElement=e,t(),delete this.currentNavigationElement}};function gr(i){if(i!=null){let e=document.getElementById(i);if(e instanceof Ne)return e}}function vr(i,e){if(i){let t=i.getAttribute("src");if(t!=null&&e!=null&&Un(t,e))throw new Error(`Matching <turbo-frame id="${i.id}"> element has a source URL which references itself`);if(i.ownerDocument!==document&&(i=document.importNode(i,!0)),i instanceof Ne)return i.connectedCallback(),i.disconnectedCallback(),i}}var Ht=class extends HTMLElement{static async renderElement(e){await e.performAction()}async connectedCallback(){try{await this.render()}catch(e){console.error(e)}finally{this.disconnect()}}async render(){var e;return(e=this.renderPromise)!==null&&e!==void 0?e:this.renderPromise=(async()=>{let t=this.beforeRenderEvent;this.dispatchEvent(t)&&(await ci(),await t.detail.render(this))})()}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(e=>e.remove())}get duplicateChildren(){var e;let t=this.targetElements.flatMap(o=>[...o.children]).filter(o=>!!o.id),r=[...((e=this.templateContent)===null||e===void 0?void 0:e.children)||[]].filter(o=>!!o.id).map(o=>o.id);return t.filter(o=>r.includes(o.id))}get performAction(){if(this.action){let e=Cr[this.action];if(e)return e;this.raise("unknown action")}this.raise("action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;this.raise("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){let e=this.ownerDocument.createElement("template");return this.appendChild(e),e}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}raise(e){throw new Error(`${this.description}: ${e}`)}get description(){var e,t;return(t=((e=this.outerHTML.match(/<[^>]+>/))!==null&&e!==void 0?e:[])[0])!==null&&t!==void 0?t:"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:Ht.renderElement}})}get targetElementsById(){var e;let t=(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.target);return t!==null?[t]:[]}get targetElementsByQuery(){var e;let t=(e=this.ownerDocument)===null||e===void 0?void 0:e.querySelectorAll(this.targets);return t.length!==0?Array.prototype.slice.call(t):[]}},as=class extends HTMLElement{constructor(){super(...arguments),this.streamSource=null}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),wi(this.streamSource)}disconnectedCallback(){this.streamSource&&Ei(this.streamSource)}get src(){return this.getAttribute("src")||""}};Ne.delegateConstructor=os;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",Ne);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",Ht);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",as);(()=>{let i=document.currentScript;if(!!i&&!i.hasAttribute("data-turbo-suppress-warning"))for(i=i.parentElement;i;){if(i==document.body)return console.warn(wr`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,i.outerHTML);i=i.parentElement}})();window.Turbo=$o;Tr();var Mr;async function zo(){return Mr||xr(Ko().then(xr))}function xr(i){return Mr=i}async function Ko(){let{createConsumer:i}=await Promise.resolve().then(()=>(Ir(),Pr));return i()}async function Fr(i,e){let{subscriptions:t}=await zo();return t.create(i,e)}function Ut(i){return!i||typeof i!="object"||i instanceof Date||i instanceof RegExp?i:Array.isArray(i)?i.map(Ut):Object.keys(i).reduce(function(e,t){var r=t[0].toLowerCase()+t.slice(1).replace(/([A-Z]+)/g,function(o,u){return"_"+u.toLowerCase()});return e[r]=Ut(i[t]),e},{})}var vs=class extends HTMLElement{async connectedCallback(){wi(this),this.subscription=await Fr(this.channel,{received:this.dispatchMessageEvent.bind(this),connected:this.subscriptionConnected.bind(this),disconnected:this.subscriptionDisconnected.bind(this)})}disconnectedCallback(){Ei(this),this.subscription&&this.subscription.unsubscribe()}dispatchMessageEvent(e){let t=new MessageEvent("message",{data:e});return this.dispatchEvent(t)}subscriptionConnected(){this.setAttribute("connected","")}subscriptionDisconnected(){this.removeAttribute("connected")}get channel(){let e=this.getAttribute("channel"),t=this.getAttribute("signed-stream-name");return{channel:e,signed_stream_name:t,...Ut({...this.dataset})}}};customElements.get("turbo-cable-stream-source")===void 0&&customElements.define("turbo-cable-stream-source",vs);function Dr(i){if(i.target instanceof HTMLFormElement){let{target:e,detail:{fetchOptions:t}}=i;e.addEventListener("turbo:submit-start",({detail:{formSubmission:{submitter:r}}})=>{let o=Xo(t.body)?t.body:new URLSearchParams,u=Go(r,o,e);/get/i.test(u)||(/post/i.test(u)?o.delete("_method"):o.set("_method",u),t.method="post")},{once:!0})}}function Go(i,e,t){let r=Qo(i),o=e.get("_method"),u=t.getAttribute("method")||"get";return typeof r=="string"?r:typeof o=="string"?o:u}function Qo(i){return(i instanceof HTMLButtonElement||i instanceof HTMLInputElement)&&i.hasAttribute("formmethod")?i.formMethod:null}function Xo(i){return i instanceof FormData||i instanceof URLSearchParams}addEventListener("turbo:before-fetch-request",Dr);var qr={exports:{}};(function(i,e){(function(t){i.exports=t()})(function(t){var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function o(y,v){var f=y[0],l=y[1],h=y[2],d=y[3];f+=(l&h|~l&d)+v[0]-680876936|0,f=(f<<7|f>>>25)+l|0,d+=(f&l|~f&h)+v[1]-389564586|0,d=(d<<12|d>>>20)+f|0,h+=(d&f|~d&l)+v[2]+606105819|0,h=(h<<17|h>>>15)+d|0,l+=(h&d|~h&f)+v[3]-1044525330|0,l=(l<<22|l>>>10)+h|0,f+=(l&h|~l&d)+v[4]-176418897|0,f=(f<<7|f>>>25)+l|0,d+=(f&l|~f&h)+v[5]+1200080426|0,d=(d<<12|d>>>20)+f|0,h+=(d&f|~d&l)+v[6]-1473231341|0,h=(h<<17|h>>>15)+d|0,l+=(h&d|~h&f)+v[7]-45705983|0,l=(l<<22|l>>>10)+h|0,f+=(l&h|~l&d)+v[8]+1770035416|0,f=(f<<7|f>>>25)+l|0,d+=(f&l|~f&h)+v[9]-1958414417|0,d=(d<<12|d>>>20)+f|0,h+=(d&f|~d&l)+v[10]-42063|0,h=(h<<17|h>>>15)+d|0,l+=(h&d|~h&f)+v[11]-1990404162|0,l=(l<<22|l>>>10)+h|0,f+=(l&h|~l&d)+v[12]+1804603682|0,f=(f<<7|f>>>25)+l|0,d+=(f&l|~f&h)+v[13]-40341101|0,d=(d<<12|d>>>20)+f|0,h+=(d&f|~d&l)+v[14]-1502002290|0,h=(h<<17|h>>>15)+d|0,l+=(h&d|~h&f)+v[15]+1236535329|0,l=(l<<22|l>>>10)+h|0,f+=(l&d|h&~d)+v[1]-165796510|0,f=(f<<5|f>>>27)+l|0,d+=(f&h|l&~h)+v[6]-1069501632|0,d=(d<<9|d>>>23)+f|0,h+=(d&l|f&~l)+v[11]+643717713|0,h=(h<<14|h>>>18)+d|0,l+=(h&f|d&~f)+v[0]-373897302|0,l=(l<<20|l>>>12)+h|0,f+=(l&d|h&~d)+v[5]-701558691|0,f=(f<<5|f>>>27)+l|0,d+=(f&h|l&~h)+v[10]+38016083|0,d=(d<<9|d>>>23)+f|0,h+=(d&l|f&~l)+v[15]-660478335|0,h=(h<<14|h>>>18)+d|0,l+=(h&f|d&~f)+v[4]-405537848|0,l=(l<<20|l>>>12)+h|0,f+=(l&d|h&~d)+v[9]+568446438|0,f=(f<<5|f>>>27)+l|0,d+=(f&h|l&~h)+v[14]-1019803690|0,d=(d<<9|d>>>23)+f|0,h+=(d&l|f&~l)+v[3]-187363961|0,h=(h<<14|h>>>18)+d|0,l+=(h&f|d&~f)+v[8]+1163531501|0,l=(l<<20|l>>>12)+h|0,f+=(l&d|h&~d)+v[13]-1444681467|0,f=(f<<5|f>>>27)+l|0,d+=(f&h|l&~h)+v[2]-51403784|0,d=(d<<9|d>>>23)+f|0,h+=(d&l|f&~l)+v[7]+1735328473|0,h=(h<<14|h>>>18)+d|0,l+=(h&f|d&~f)+v[12]-1926607734|0,l=(l<<20|l>>>12)+h|0,f+=(l^h^d)+v[5]-378558|0,f=(f<<4|f>>>28)+l|0,d+=(f^l^h)+v[8]-2022574463|0,d=(d<<11|d>>>21)+f|0,h+=(d^f^l)+v[11]+1839030562|0,h=(h<<16|h>>>16)+d|0,l+=(h^d^f)+v[14]-35309556|0,l=(l<<23|l>>>9)+h|0,f+=(l^h^d)+v[1]-1530992060|0,f=(f<<4|f>>>28)+l|0,d+=(f^l^h)+v[4]+1272893353|0,d=(d<<11|d>>>21)+f|0,h+=(d^f^l)+v[7]-155497632|0,h=(h<<16|h>>>16)+d|0,l+=(h^d^f)+v[10]-1094730640|0,l=(l<<23|l>>>9)+h|0,f+=(l^h^d)+v[13]+681279174|0,f=(f<<4|f>>>28)+l|0,d+=(f^l^h)+v[0]-358537222|0,d=(d<<11|d>>>21)+f|0,h+=(d^f^l)+v[3]-722521979|0,h=(h<<16|h>>>16)+d|0,l+=(h^d^f)+v[6]+76029189|0,l=(l<<23|l>>>9)+h|0,f+=(l^h^d)+v[9]-640364487|0,f=(f<<4|f>>>28)+l|0,d+=(f^l^h)+v[12]-421815835|0,d=(d<<11|d>>>21)+f|0,h+=(d^f^l)+v[15]+530742520|0,h=(h<<16|h>>>16)+d|0,l+=(h^d^f)+v[2]-995338651|0,l=(l<<23|l>>>9)+h|0,f+=(h^(l|~d))+v[0]-198630844|0,f=(f<<6|f>>>26)+l|0,d+=(l^(f|~h))+v[7]+1126891415|0,d=(d<<10|d>>>22)+f|0,h+=(f^(d|~l))+v[14]-1416354905|0,h=(h<<15|h>>>17)+d|0,l+=(d^(h|~f))+v[5]-57434055|0,l=(l<<21|l>>>11)+h|0,f+=(h^(l|~d))+v[12]+1700485571|0,f=(f<<6|f>>>26)+l|0,d+=(l^(f|~h))+v[3]-1894986606|0,d=(d<<10|d>>>22)+f|0,h+=(f^(d|~l))+v[10]-1051523|0,h=(h<<15|h>>>17)+d|0,l+=(d^(h|~f))+v[1]-2054922799|0,l=(l<<21|l>>>11)+h|0,f+=(h^(l|~d))+v[8]+1873313359|0,f=(f<<6|f>>>26)+l|0,d+=(l^(f|~h))+v[15]-30611744|0,d=(d<<10|d>>>22)+f|0,h+=(f^(d|~l))+v[6]-1560198380|0,h=(h<<15|h>>>17)+d|0,l+=(d^(h|~f))+v[13]+1309151649|0,l=(l<<21|l>>>11)+h|0,f+=(h^(l|~d))+v[4]-145523070|0,f=(f<<6|f>>>26)+l|0,d+=(l^(f|~h))+v[11]-1120210379|0,d=(d<<10|d>>>22)+f|0,h+=(f^(d|~l))+v[2]+718787259|0,h=(h<<15|h>>>17)+d|0,l+=(d^(h|~f))+v[9]-343485551|0,l=(l<<21|l>>>11)+h|0,y[0]=f+y[0]|0,y[1]=l+y[1]|0,y[2]=h+y[2]|0,y[3]=d+y[3]|0}function u(y){var v=[],f;for(f=0;f<64;f+=4)v[f>>2]=y.charCodeAt(f)+(y.charCodeAt(f+1)<<8)+(y.charCodeAt(f+2)<<16)+(y.charCodeAt(f+3)<<24);return v}function w(y){var v=[],f;for(f=0;f<64;f+=4)v[f>>2]=y[f]+(y[f+1]<<8)+(y[f+2]<<16)+(y[f+3]<<24);return v}function b(y){var v=y.length,f=[1732584193,-271733879,-1732584194,271733878],l,h,d,R,E,T;for(l=64;l<=v;l+=64)o(f,u(y.substring(l-64,l)));for(y=y.substring(l-64),h=y.length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=0;l<h;l+=1)d[l>>2]|=y.charCodeAt(l)<<(l%4<<3);if(d[l>>2]|=128<<(l%4<<3),l>55)for(o(f,d),l=0;l<16;l+=1)d[l]=0;return R=v*8,R=R.toString(16).match(/(.*?)(.{0,8})$/),E=parseInt(R[2],16),T=parseInt(R[1],16)||0,d[14]=E,d[15]=T,o(f,d),f}function S(y){var v=y.length,f=[1732584193,-271733879,-1732584194,271733878],l,h,d,R,E,T;for(l=64;l<=v;l+=64)o(f,w(y.subarray(l-64,l)));for(y=l-64<v?y.subarray(l-64):new Uint8Array(0),h=y.length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=0;l<h;l+=1)d[l>>2]|=y[l]<<(l%4<<3);if(d[l>>2]|=128<<(l%4<<3),l>55)for(o(f,d),l=0;l<16;l+=1)d[l]=0;return R=v*8,R=R.toString(16).match(/(.*?)(.{0,8})$/),E=parseInt(R[2],16),T=parseInt(R[1],16)||0,d[14]=E,d[15]=T,o(f,d),f}function I(y){var v="",f;for(f=0;f<4;f+=1)v+=r[y>>f*8+4&15]+r[y>>f*8&15];return v}function C(y){var v;for(v=0;v<y.length;v+=1)y[v]=I(y[v]);return y.join("")}C(b("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function y(v,f){return v=v|0||0,v<0?Math.max(v+f,0):Math.min(v,f)}ArrayBuffer.prototype.slice=function(v,f){var l=this.byteLength,h=y(v,l),d=l,R,E,T,L;return f!==t&&(d=y(f,l)),h>d?new ArrayBuffer(0):(R=d-h,E=new ArrayBuffer(R),T=new Uint8Array(E),L=new Uint8Array(this,h,R),T.set(L),E)}}();function B(y){return/[\u0080-\uFFFF]/.test(y)&&(y=unescape(encodeURIComponent(y))),y}function j(y,v){var f=y.length,l=new ArrayBuffer(f),h=new Uint8Array(l),d;for(d=0;d<f;d+=1)h[d]=y.charCodeAt(d);return v?h:l}function N(y){return String.fromCharCode.apply(null,new Uint8Array(y))}function W(y,v,f){var l=new Uint8Array(y.byteLength+v.byteLength);return l.set(new Uint8Array(y)),l.set(new Uint8Array(v),y.byteLength),f?l:l.buffer}function q(y){var v=[],f=y.length,l;for(l=0;l<f-1;l+=2)v.push(parseInt(y.substr(l,2),16));return String.fromCharCode.apply(String,v)}function M(){this.reset()}return M.prototype.append=function(y){return this.appendBinary(B(y)),this},M.prototype.appendBinary=function(y){this._buff+=y,this._length+=y.length;var v=this._buff.length,f;for(f=64;f<=v;f+=64)o(this._hash,u(this._buff.substring(f-64,f)));return this._buff=this._buff.substring(f-64),this},M.prototype.end=function(y){var v=this._buff,f=v.length,l,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d;for(l=0;l<f;l+=1)h[l>>2]|=v.charCodeAt(l)<<(l%4<<3);return this._finish(h,f),d=C(this._hash),y&&(d=q(d)),this.reset(),d},M.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},M.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},M.prototype.setState=function(y){return this._buff=y.buff,this._length=y.length,this._hash=y.hash,this},M.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},M.prototype._finish=function(y,v){var f=v,l,h,d;if(y[f>>2]|=128<<(f%4<<3),f>55)for(o(this._hash,y),f=0;f<16;f+=1)y[f]=0;l=this._length*8,l=l.toString(16).match(/(.*?)(.{0,8})$/),h=parseInt(l[2],16),d=parseInt(l[1],16)||0,y[14]=h,y[15]=d,o(this._hash,y)},M.hash=function(y,v){return M.hashBinary(B(y),v)},M.hashBinary=function(y,v){var f=b(y),l=C(f);return v?q(l):l},M.ArrayBuffer=function(){this.reset()},M.ArrayBuffer.prototype.append=function(y){var v=W(this._buff.buffer,y,!0),f=v.length,l;for(this._length+=y.byteLength,l=64;l<=f;l+=64)o(this._hash,w(v.subarray(l-64,l)));return this._buff=l-64<f?new Uint8Array(v.buffer.slice(l-64)):new Uint8Array(0),this},M.ArrayBuffer.prototype.end=function(y){var v=this._buff,f=v.length,l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h,d;for(h=0;h<f;h+=1)l[h>>2]|=v[h]<<(h%4<<3);return this._finish(l,f),d=C(this._hash),y&&(d=q(d)),this.reset(),d},M.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},M.ArrayBuffer.prototype.getState=function(){var y=M.prototype.getState.call(this);return y.buff=N(y.buff),y},M.ArrayBuffer.prototype.setState=function(y){return y.buff=j(y.buff,!0),M.prototype.setState.call(this,y)},M.ArrayBuffer.prototype.destroy=M.prototype.destroy,M.ArrayBuffer.prototype._finish=M.prototype._finish,M.ArrayBuffer.hash=function(y,v){var f=S(new Uint8Array(y)),l=C(f);return v?q(l):l},M})})(qr);var Jo=qr.exports,Zo=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,zt=class{static create(e,t){new zt(e).create(t)}constructor(e){this.file=e,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}create(e){this.callback=e,this.md5Buffer=new Jo.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",t=>this.fileReaderDidLoad(t)),this.fileReader.addEventListener("error",t=>this.fileReaderDidError(t)),this.readNextChunk()}fileReaderDidLoad(e){if(this.md5Buffer.append(e.target.result),!this.readNextChunk()){let t=this.md5Buffer.end(!0),r=btoa(t);this.callback(null,r)}}fileReaderDidError(e){this.callback(`Error reading ${this.file.name}`)}readNextChunk(){if(this.chunkIndex<this.chunkCount||this.chunkIndex==0&&this.chunkCount==0){let e=this.chunkIndex*this.chunkSize,t=Math.min(e+this.chunkSize,this.file.size),r=Zo.call(this.file,e,t);return this.fileReader.readAsArrayBuffer(r),this.chunkIndex++,!0}else return!1}};function ea(i){let e=Hr(document.head,`meta[name="${i}"]`);if(e)return e.getAttribute("content")}function ta(i,e){typeof i=="string"&&(e=i,i=document);let t=i.querySelectorAll(e);return $r(t)}function Hr(i,e){return typeof i=="string"&&(e=i,i=document),i.querySelector(e)}function Br(i,e,t={}){let{disabled:r}=i,{bubbles:o,cancelable:u,detail:w}=t,b=document.createEvent("Event");b.initEvent(e,o||!0,u||!0),b.detail=w||{};try{i.disabled=!1,i.dispatchEvent(b)}finally{i.disabled=r}return b}function $r(i){return Array.isArray(i)?i:Array.from?Array.from(i):[].slice.call(i)}var ys=class{constructor(e,t,r){this.file=e,this.attributes={filename:e.name,content_type:e.type||"application/octet-stream",byte_size:e.size,checksum:t},this.xhr=new XMLHttpRequest,this.xhr.open("POST",r,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");let o=ea("csrf-token");o!=null&&this.xhr.setRequestHeader("X-CSRF-Token",o),this.xhr.addEventListener("load",u=>this.requestDidLoad(u)),this.xhr.addEventListener("error",u=>this.requestDidError(u))}get status(){return this.xhr.status}get response(){let{responseType:e,response:t}=this.xhr;return e=="json"?t:JSON.parse(t)}create(e){this.callback=e,this.xhr.send(JSON.stringify({blob:this.attributes}))}requestDidLoad(e){if(this.status>=200&&this.status<300){let{response:t}=this,{direct_upload:r}=t;delete t.direct_upload,this.attributes=t,this.directUploadData=r,this.callback(null,this.toJSON())}else this.requestDidError(e)}requestDidError(e){this.callback(`Error creating Blob for "${this.file.name}". Status: ${this.status}`)}toJSON(){let e={};for(let t in this.attributes)e[t]=this.attributes[t];return e}},ws=class{constructor(e){this.blob=e,this.file=e.file;let{url:t,headers:r}=e.directUploadData;this.xhr=new XMLHttpRequest,this.xhr.open("PUT",t,!0),this.xhr.responseType="text";for(let o in r)this.xhr.setRequestHeader(o,r[o]);this.xhr.addEventListener("load",o=>this.requestDidLoad(o)),this.xhr.addEventListener("error",o=>this.requestDidError(o))}create(e){this.callback=e,this.xhr.send(this.file.slice())}requestDidLoad(e){let{status:t,response:r}=this.xhr;t>=200&&t<300?this.callback(null,r):this.requestDidError(e)}requestDidError(e){this.callback(`Error storing "${this.file.name}". Status: ${this.xhr.status}`)}},ia=0,Es=class{constructor(e,t,r){this.id=++ia,this.file=e,this.url=t,this.delegate=r}create(e){zt.create(this.file,(t,r)=>{if(t){e(t);return}let o=new ys(this.file,r,this.url);kr(this.delegate,"directUploadWillCreateBlobWithXHR",o.xhr),o.create(u=>{if(u)e(u);else{let w=new ws(o);kr(this.delegate,"directUploadWillStoreFileWithXHR",w.xhr),w.create(b=>{b?e(b):e(null,o.toJSON())})}})})}};function kr(i,e,...t){if(i&&typeof i[e]=="function")return i[e](...t)}var Ss=class{constructor(e,t){this.input=e,this.file=t,this.directUpload=new Es(this.file,this.url,this),this.dispatch("initialize")}start(e){let t=document.createElement("input");t.type="hidden",t.name=this.input.name,this.input.insertAdjacentElement("beforebegin",t),this.dispatch("start"),this.directUpload.create((r,o)=>{r?(t.parentNode.removeChild(t),this.dispatchError(r)):t.value=o.signed_id,this.dispatch("end"),e(r)})}uploadRequestDidProgress(e){let t=e.loaded/e.total*100;t&&this.dispatch("progress",{progress:t})}get url(){return this.input.getAttribute("data-direct-upload-url")}dispatch(e,t={}){return t.file=this.file,t.id=this.directUpload.id,Br(this.input,`direct-upload:${e}`,{detail:t})}dispatchError(e){this.dispatch("error",{error:e}).defaultPrevented||alert(e)}directUploadWillCreateBlobWithXHR(e){this.dispatch("before-blob-request",{xhr:e})}directUploadWillStoreFileWithXHR(e){this.dispatch("before-storage-request",{xhr:e}),e.upload.addEventListener("progress",t=>this.uploadRequestDidProgress(t))}},sa="input[type=file][data-direct-upload-url]:not([disabled])",As=class{constructor(e){this.form=e,this.inputs=ta(e,sa).filter(t=>t.files.length)}start(e){let t=this.createDirectUploadControllers(),r=()=>{let o=t.shift();o?o.start(u=>{u?(e(u),this.dispatch("end")):r()}):(e(),this.dispatch("end"))};this.dispatch("start"),r()}createDirectUploadControllers(){let e=[];return this.inputs.forEach(t=>{$r(t.files).forEach(r=>{let o=new Ss(t,r);e.push(o)})}),e}dispatch(e,t={}){return Br(this.form,`direct-uploads:${e}`,{detail:t})}},bs="data-direct-uploads-processing",_s=new WeakMap,Nr=!1;function Cs(){Nr||(Nr=!0,document.addEventListener("click",ra,!0),document.addEventListener("submit",na,!0),document.addEventListener("ajax:before",oa))}function ra(i){let{target:e}=i;(e.tagName=="INPUT"||e.tagName=="BUTTON")&&e.type=="submit"&&e.form&&_s.set(e.form,e)}function na(i){Vr(i)}function oa(i){i.target.tagName=="FORM"&&Vr(i)}function Vr(i){let e=i.target;if(e.hasAttribute(bs)){i.preventDefault();return}let t=new As(e),{inputs:r}=t;r.length&&(i.preventDefault(),e.setAttribute(bs,""),r.forEach(la),t.start(o=>{e.removeAttribute(bs),o?r.forEach(ca):aa(e)}))}function aa(i){let e=_s.get(i)||Hr(i,"input[type=submit], button[type=submit]");if(e){let{disabled:t}=e;e.disabled=!1,e.focus(),e.click(),e.disabled=t}else e=document.createElement("input"),e.type="submit",e.style.display="none",i.appendChild(e),e.click(),i.removeChild(e);_s.delete(i)}function la(i){i.disabled=!0}function ca(i){i.disabled=!1}function ua(){window.ActiveStorage&&Cs()}setTimeout(ua,1);var tc=Ni(bn()),ic=Ni(yn());var Sn=Ni(wn());var En={ru:{remove_button:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u044D\u043B\u0435\u043C\u0435\u043D\u0442",no_results:"\u041D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u043D\u0430\u0448\u043B\u043E\u0441\u044C"},en:{remove_button:"Remove element",no_results:"No results"}};var An=[];document.addEventListener("turbo:before-cache",function(){An.forEach(i=>{i.destroy()})});var ar=function(){let i=En[document.querySelector("body").dataset.lang];document.querySelectorAll("select.js-multiple-select").forEach(e=>{if(!e.classList.contains("tomselected")){let t={plugins:{remove_button:{title:i.remove_button},no_backspace_delete:{},restore_on_backspace:{}},valueField:"id",labelField:"title",searchField:"title",create:!1,load:function(o,u){let w=e.dataset.ajaxUrl+".json?term="+encodeURIComponent(o);fetch(w).then(b=>b.json()).then(b=>{u(b)}).catch(()=>{u()})},render:{no_results:function(o,u){return'<div class="no-results">'+i.no_results+"</div>"}}},r=new Sn.default(e,t);An.push(r)}})};document.addEventListener("turbo:load",ar);document.addEventListener("turbo:frame-render",ar);document.addEventListener("turbo:render",ar);Cs();})();
/*!
  * Bootstrap base-component.js v5.3.0 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
/*!
  * Bootstrap collapse.js v5.3.0 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
/*!
  * Bootstrap config.js v5.3.0 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
/*!
  * Bootstrap data.js v5.3.0 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
/*!
  * Bootstrap dropdown.js v5.3.0 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
/*!
  * Bootstrap event-handler.js v5.3.0 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
/*!
  * Bootstrap index.js v5.3.0 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
/*!
  * Bootstrap manipulator.js v5.3.0 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
/*!
  * Bootstrap selector-engine.js v5.3.0 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */
/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */
